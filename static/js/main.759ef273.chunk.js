(this["webpackJsonpcspr-app"]=this["webpackJsonpcspr-app"]||[]).push([[0],{101:function(e,t){},108:function(e,t,i){"use strict";i.r(t);var a=i(1),n=i(3),s=i.n(n),r=i(63),c=i.n(r),o=(i(72),i(13)),p=i(0),u=i(48),l=i(34),d=i(8),f=i(4),E=i(2),g=i(10),m=i.n(g),h=[{name:"\u70b8\u5f39",desc:"\u5623\uff01",effect_type:"aggressive",illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/emojidex/112/bomb_1f4a3.png",effect:function(e,t,i){T(i)}},{name:"\u62a4\u7532",desc:"\u653e\u5165\u6301\u7eed\u533a\uff0c\u53ef\u62b5\u63211\u6b21\u51fa\u5c40",effect_type:"protective",has_fruit:!0,illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/twitter/259/shield_1f6e1.png",effect:function(e,t,i){i.entities.push("shield")}},{name:"\u5409\u4ed6",desc:"\u5982\u679c\u4f60\u7684\u978b\u5b50\u672a\u4f7f\u7528\uff0c\u5219\u6a2a\u7f6e\u978b\u5b50\uff0c\u83b7\u5f972\u5206\uff0c\u5426\u5219\u91cd\u7f6e\u978b\u5b50",effect_type:"greedy",has_fruit:!0,illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/twitter/322/guitar_1f3b8.png",effect:function(e,t,i){i.entities.includes("skip")?(i.entities=i.entities.filter((function(e){return"skip"!==e})),i.score+=2):i.entities.push("skip")}},{name:"\u7f8e\u5473\u4f73\u80b4",desc:"\u5982\u679c\u4f60\u81f3\u5c11\u67096\u5206\uff0c\u5219\u5931\u53bb1\u5206\uff0c\u5426\u5219\u83b7\u5f971\u5206",effect_type:"topdown",illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/twitter/282/pile-of-poo_1f4a9.png",effect:function(e,t,i){i.score>=6?i.score-=1:i.score+=1}},{name:"\u640b\u5b50",desc:"\u5982\u679c\u4f60\u81f3\u5c11\u67096\u5206\uff0c\u5219\u5931\u53bb2\u5206\uff0c\u5426\u5219\u83b7\u5f972\u5206",effect_type:"topdown",illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/twitter/322/plunger_1faa0.png",effect:function(e,t,i){i.score>=6?i.score-=2:i.score+=2}},{name:"\u4e09\u5c4e",desc:"\u5982\u679c\u4f60\u81f3\u5c11\u67096\u5206\uff0c\u5219\u5931\u53bb2\u5206\uff0c\u5426\u5219\u83b7\u5f972\u5206",effect_type:"topdown",illust:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAwFBMVEVHcEzQJTt8iZO+GTHdLkS+GTHdLkTdLkS+GTFmdX/dLkS+GTHM1t3M1t1mdX/M1t3dNErM1t3TJz7M1t2+GTFmdX9mdX/XKkDdLkTM1t2+GTHM1t1mdX9mdX/M1t2+GTHM1t3M1t2Zpq7ZU2bdLkRmdX9mdX/dLkTM1t1mdX/dLkS+GTGZqrV0g42Xp7GGlaCzvsaPnqiAjpjVgpFtfIfOx8+jr7fGHjbSl6S/ytHRJjzaTWC5xMvXbX3Pt8B8jJdXLlKbAAAAKHRSTlMAEBBAQIKAv8LCj+PDn4Dv+YUgQK9rQDBwUGwwn68gUN9ggI/f7zDPwwvGZwAAActJREFUeF7t19eSgjAUgGEQEQR7WV3X7S2h2svW93+rRYzECGbkJN7s+N/7jXNISFDO3KVC+6nWLYgqN80KWmCMy0LSdbWOEPrCm26FlLgJjrsCKXfNB0Ra421DAPNYQbQxJhVy/5k62s/HpG6+p1RlFDLq3ONuV9BhiwR6hTC0ECe9nTibKspqhvGJQ1KLxWK/VHpGma0xbXjkp5ZhGA1n1082NMK0MgF69Kfppii7AO8VM6rlcPpkgfRypEvy3eG1ShPMRqPbrcR1GnMe5M8o1HK4faNjRcDYC4hUUxSLD604kO95XphAL3xozoHCCAp2UI/vNCiQ3rKBF+WTbdvnQ59HoRGeeZsmZEVagFkTyI+hkEAGH5pyoN8YGotDk38K0RlJfmrS1pG0lS2+12TvfmnvI3lvyChDxjtb2iki8Vyj6a7rLpfLj20O4KRNICYzOfvrOc/+Dgtp4NuIyTg2/H5kM5AOv7G5TBr4DqmyEPxWq7Ejgt+zWciE3/x1FgJ+i6Qh+NdRh4Xg32smC8G/IO0UBMxlssGO6rKBIe0A0mRBA1lQBw5JmnaLAOLP3xSYEXf3wxvsO6oi0L1NGFsnDpzSowY95Rxd+gM9kbO827m8HwAAAABJRU5ErkJggg==",effect:function(e,t,i){i.score>=6?i.score-=3:i.score+=3}},{name:"\u7334\u5b50",desc:"\u5982\u679c\u4f60\u6ca1\u6709\u6c34\u679c\uff0c\u5219\u83b7\u5f973\u5206",has_fruit:!0,effect_type:"greedy",illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/twitter/322/fish_1f41f.png",effect:function(e,t,i){void 0===i.entities.find((function(e){return"object"==typeof e}))&&(i.score+=3)}},{name:"\u88f8\u5954",desc:"\u5f03\u6389\u6301\u7eed\u533a\u7684\u6240\u6709\u724c",effect_type:"topdown",illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/google/263/man-running_1f3c3-200d-2642-fe0f.png",effect:function(e,t,i){i.entities=[]}},{name:"\u9a6c\u6876",desc:"\u5982\u679c\u4f60\u7684\u5f03\u724c\u5806\u4e2d\uff0c\u6709\u70b8\u5f39\u6216\u7caa\u4fbf\uff0c\u5219\u83b7\u5f972\u5206",has_fruit:!0,effect_type:"greedy",illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/twitter/322/toilet_1f6bd.png",effect:function(e,t,i){void 0!==i.discard.find((function(e){return"\u70b8\u5f39"===e.name||"\u7f8e\u5473\u4f73\u80b4"===e.name}))&&(i.score+=2)}},{name:"\u9001\u6e29\u6696",desc:"\u4f60\u7684\u4e0a\u5bb6\u548c\u4e0b\u5bb6\u83b7\u5f971\u5206(\u5982\u679c\u5b58\u6d3b\u7684\u8bdd)",effect_type:"greedy",illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/271/pot-of-food_1f372.png",effect:function(e,t,i){var a=e.players.indexOf(i),n=(a+1)%4,s=(a+3)%4,r=e.players[n],c=e.players[s];r.out||(r.score+=1),c.out||(c.score+=1)}},{name:"\u4e4c\u9f9f",desc:"\u672c\u56de\u5408\u5982\u679c\u4f60\u5b58\u6d3b\u5230\u6700\u540e\uff0c\u5219\u83b7\u5f972\u5206",effect_type:"greedy",illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/twitter/322/turtle_1f422.png",has_fruit:!0,effect:function(e,t,i){i.survive_bonus+=2}},{name:"\u95ea\u7535",desc:"\u672c\u56de\u5408\u516c\u5171\u76ee\u6807\u5206\u503c+2",effect_type:"greedy",illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/twitter/322/high-voltage_26a1.png",has_fruit:!1,effect:function(e,t,i){e.public_goal_bonus+=2}},{name:"\u62ab\u8428",desc:"\u672c\u56de\u5408\u5269\u4f59\u65f6\u95f4\u5185\uff0c\u4f60\u6bcf\u83b7\u5f971\u4e2a\u6c34\u679c\uff0c\u5c31\u83b7\u5f971\u5206",effect_type:"greedy",has_fruit:!0,illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/twitter/322/pizza_1f355.png",effect:function(e,t,i){i.fruit_bonus+=1}},{name:"\u897f\u7ea2\u67ff",desc:"\u5c062\u4e2a\u897f\u7ea2\u67ff\u653e\u5165\u6301\u7eed\u533a",super_fruit:0,illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/google/263/tomato_1f345.png",effect:function(e,t,i){i.score+=1}},{name:"\u67e0\u6aac",desc:"\u5c062\u4e2a\u67e0\u6aac\u653e\u5165\u6301\u7eed\u533a",illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/google/263/lemon_1f34b.png",super_fruit:1,effect:function(e,t,i){i.score+=1}},{name:"\u82f9\u679c",desc:"\u5c062\u4e2a\u82f9\u679c\u653e\u5165\u6301\u7eed\u533a",illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/google/263/green-apple_1f34f.png",super_fruit:2,effect:function(e,t,i){i.score+=1}},{name:"\u96c6\u4f53\u62c6\u5f39",desc:"\u6240\u6709\u5176\u4ed6\u73a9\u5bb6\u67e5\u770b\u724c\u5e93\u9876\u76841\u5f20\u724c\uff0c\u5982\u679c\u662f\u70b8\u5f39\u5219\u5f03\u6389\uff0c\u7136\u540e\u6bcf\u67091\u4e2a\u5f03\u6389\u70b8\u5f39\u7684\u73a9\u5bb6\uff0c\u4f60\u5c31\u83b7\u5f972\u5206",illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/271/cityscape-at-dusk_1f306.png",effect:function(e,t,i){var a,n=e.players.filter((function(e){return e!=i&&!e.out})),s=Object(d.a)(n);try{for(s.s();!(a=s.n()).done;){var r=a.value,c=r.deck[0];c&&"\u70b8\u5f39"==c.name&&(C(r.deck,r.discard),i.score+=2)}}catch(o){s.e(o)}finally{s.f()}}},{name:"\u96c6\u4f53\u5f15\u7206",desc:"\u6240\u6709\u5176\u4ed6\u73a9\u5bb6\u5f03\u6389\u724c\u5e93\u9876\u76841\u5f20\u724c\uff0c\u5f03\u6389\u70b8\u5f39\u7684\u73a9\u5bb6\u51fa\u5c40\uff0c\u7136\u540e\u6bcf\u67091\u4e2a\u56e0\u6b64\u51fa\u5c40\u7684\u73a9\u5bb6\uff0c\u5c31\u5931\u53bb2\u5206",illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/271/collision_1f4a5.png",effect:function(e,t,i){var a,n=e.players.filter((function(e){return e!=i&&!e.out})),s=Object(d.a)(n);try{for(s.s();!(a=s.n()).done;){var r=a.value,c=R(r);c&&"\u70b8\u5f39"==c.name&&(T(r),i.score-=2)}}catch(o){s.e(o)}finally{s.f()}}},{name:"\u96c6\u4f53\u5b58\u6863",desc:"\u6240\u6709\u5176\u4ed6\u73a9\u5bb6\u5b58\u68631\u5f20\u724c",illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/271/night-with-stars_1f303.png",effect_type:"protective",effect:function(e,t,i){var a,n=e.players.filter((function(e){return e!=i&&!e.out})),s=Object(d.a)(n);try{for(s.s();!(a=s.n()).done;){var r=a.value;C(r.deck,r.hand)}}catch(c){s.e(c)}finally{s.f()}}},{name:"\u978b\u5b50",desc:"\u83b7\u5f971\u6b21\u8df3\u8fc7\u673a\u4f1a",has_fruit:!0,effect_type:"protective",illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/twitter/259/running-shoe_1f45f.png",effect:function(e,t,i){i.entities.push("skip")}},{name:"\u5b58\u6863",desc:"\u5b58\u68631\u5f20\u724c",has_fruit:!0,effect_type:"protective",illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/whatsapp/273/floppy-disk_1f4be.png",effect:function(e,t,i){C(i.deck,i.hand)}},{name:"\u5927\u5b58\u6863",desc:"\u5b58\u68632\u5f20\u724c",has_fruit:!0,effect_type:"protective",illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/twitter/322/package_1f4e6.png",effect:function(e,t,i){C(i.deck,i.hand),C(i.deck,i.hand)}},{name:"\u5929\u5987\u7f57",desc:"\u5982\u679c\u8fd9\u662f\u4f60\u672c\u56de\u5408\u7b2c1/2/3\u6b21\u6267\u884c\u6b64\u6548\u679c\uff0c\u5219\u83b7\u5f971/3/5\u5206",has_fruit:!0,effect_type:"greedy",illust:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAvVBMVEVHcEz/rDP/rDP/rDP+qC3/rDP/rDP/rDL/rDP+qS//g5v/g5v/rDP/rDP/qzH/g5v/rDP2kxD/g5v/rDP8fJT/g5v7e5L3c4r9fZX1kQ3/g5v/g5v8oyf/g5v/g5v/g5vsXXL0kAzqWW7/hZf2lBH1kQ3/mWPqWW79qC3qWW7qWW71kg/0kAz/rDP0kAz+qi/3mBb9pir2lRL6nyD8oiX5mxv/g5vqWW7/k3HuYHXza4H8fZT/qDz/iov/oFNjMuL6AAAALXRSTlMAgCAwEO+fv0Bgv0CPz3CA3yCvr3AwEPwg75tgUO9Q3+97QM9A188w36/Pv5837ex5AAACvElEQVR4XqWX53qiQBRAAUVqsRuNqWX7DNWa7L7/Yy0wuoFpd2DPL03kfHduA7QrC8/zbrT/ZRnd7QmuG0We19dz87CncafRrbfsKnL3Au7cTXS/UA9oD/Ayje5V8uftVfjiDyDRQkn0G6Gxb4A5gjmiipEtDWml5CHMZFF9fXxX8hB0WUd+P63epQlqEsjSPj8cTmeh7A9qYTpi0fOh5sRXfSAKX9iUjxfRngtiGAniIZ7TGTgaZHommhVQNNj0owpG2gGIQ8iKDucV3EcsbJdzBO4mmnvePJo+iEMyh7SIWmzTeXMHeZuX4/ED8ZjRovtmKLfsYnSQgC1tur3u7A21wADTN+Zwy/nUdadzSgOa0ietK37MFa2HnU0/C54Idw9psuaYctwjpCdccETY0TrzxpoSjN/kAlsfWRW+Y3xWDuO07YlxyURsGYxM9Mk4vKZhjXFMnawkFGkMi5kpnah+YZwxAeWWwKMjDuN63W+r6xqeDNdmrmY4Q3yq4kxwSdzyJOVXm+cJEJKYKlHSqFhWiO5zJB6hCVekV1FSsMuEzQ+LOSCiBFGw2baRlGCCa5jxZUSBXBRbRLSDRA4CKIgoo0UDSjRGEAkxpZTI5mcIDimXi0YIhogSuWiMYHa8JOWv7ZFHSPlsrVru8CtdM5iY6aQ0ozeSjlTI2mWL67NqLSwlUUJETQ1e9xHlDVFch5cUVn9RTERJkhflR7+/iNovfUQ7Th8ZvZLNdvaYsxxhOLPms9sRJiW5li6Rbc8UBRrFUHlCCqpmNIFiqjMq1Qyh4hJJgYA0Q81TALcicEXGCcdjUs0IhUQGnXjYg7H4Qk1GNAnpIPDtdmgK4ylNyS6GXrTU70iC2ejTAvALMlw54JW9l8nUNRDHVNAMNQUMCzhUSDQK2GKVFQ60LhihZTKOkW5r/TDsf4Bx/AWDNjng5jqHSQAAAABJRU5ErkJggg==",effect:function(e,t,i){!0===i.has_tempura?i.score+=3:(i.score+=1,i.has_tempura=!0)}},{name:"\u6c49\u5821",desc:"\u4f60\u7684\u5f03\u724c\u5806\u4e2d\u6bcf\u67092\u5f20\u724c\uff0c\u5c31\u83b7\u5f971\u5206",has_fruit:!0,effect_type:"greedy",illust:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAvVBMVEVHcEzcoX/ZnoLZnoLZnoLZnoLal37JkHPZnoLZnoLHp3TZnoLdLkT/zE3/zE1mIRPdLkRmIRN3slWNtlR3slV3slWndE3ZnoJ3slWqblBmIRN/PCXdLkS9gGfcYF/TlnvaQ0+RkVHxx025v1GCtFX/zE3wyaHFTkjhro2XuVOhYilvKxf53K721qnou5fdpYfXi3bTxFD/6LaQTzCdXUi9V0m8gTTbf3Hps0SahU+EolPGjDfRmTunvFK3YErYlgAPAAAAF3RSTlMAX++PeKdHGL/fM89Axq+/70Cfx2Bw770Z5hUAAANJSURBVHhe1ZjXmpswEEbBdHtbsklE7+69bS3v/1iRV4gxCBkMXy5yLvVZR/8IZnds4d+jqbKk6yhH1yVZ1a6U9GWlhyrpKXK/sUUy0EUMqYFLk8FyySVrNZoeR7Ae7RaTQo2XVCLVsJ4dZlm6LpEXRyeCyYIeDix3J8p6XePEgU2LdVG0OHlGCOCHkoqnr8pXtFyusJzJLJU9CmwawX0wsJkVJg8wwcdP+BrIzGYSEZf1hFbEyyyCR+txPSu8haTjZu5BA+rcs9ECzuaiU49KTqk6e0Ieew0qBMrOHrEi0NdG0mDLkm0N0mI1kFuS81vdrSoeGmqATN5Fmoj78vD/IuzWZ2+lgdoxgRqMbxFqyejsQbQVQaMgvgj6m7sKpa0YEb+/+avrVW6Fy+b3N38VMODx8/ubvwoo0Grc/q5fhWYboI4MoPu7AN1/43fz+DdU5Iab9pogdEHkun7QUuO7bkGEVS1SbU4aEGkP7jeh/3yFbPPsh2TfAx0nflsuEIa+7z9jNtW7MfgDYegCf/rE89M0wdQCyzR/EQ8mGrfVjCMTg019kxAd22iOkUnQBO3RzHh7/QqvkYRfr3Rr+ohLu4sT0wSZdWxQ5fhovb6ZlHQ7vMOi2+FwaxZ5iyLLssYnzjafwMtRZJaIh8PbU6IhNk3TdJokyWdqNub781Mz/YyHRNTHkYCkTgDlnHErCpgfzuzjahN44vfZ/AfpENu25+Ca5tmn5RSwkmSWlyfHxmQ9YmPAFX+bpqfocXKuISsp8VALQSDcE1PuipNtTHOneT66tN1u48xCuScezaKiYo2Qj2aAVWKhWNlYE8yJJHe9nKu2aVYo3O7eLjAP5Gxgg0iMi+FjNrdLWNnI1kPIsRmcpwrXy6zqkwj16BARYBPL/h0UUBLjCWCIABO/RCiJ9YAIc7CrmT/FWEOfEsOBGWvWnsNTzWgYBsdDhOK/fm9vX8WeatCgPNZsLKepxbE2l8eawDrUypyDFZSmCM7I5nmHvVPhc5z9wfNQGaP+21rg5QSIiwhfszqhCxSt08w20ISuJvCASWnrUYgHUI02GkMVWMSr6xuIzX456vQrkiZKer1El0RNaEBflWVF15l4hq4rsqz2hf+Cv/n/ttGvGGfQAAAAAElFTkSuQmCC",effect:function(e,t,i){var a=i.discard.length;i.score+=Math.floor(a/2)}},{name:"\u7167\u76f8\u673a",desc:"\u5982\u679c\u573a\u4e0a\u6709\u5df2\u51fa\u5c40\u7684\u73a9\u5bb6\uff0c\u83b7\u5f972\u5206",has_fruit:!0,effect_type:"greedy",illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/twitter/322/camera_1f4f7.png",effect:function(e,t,i){i.score+=e.players.filter((function(e){return e.out})).length>0?2:0}},{name:"\u82cd\u8747",desc:"\u5982\u679c\u4f60\u62e5\u6709\u6c34\u679c\uff0c\u5219\u5931\u53bb3\u5206\uff0c\u5426\u5219\u83b7\u5f971\u5206",has_fruit:!1,effect_type:"topdown",illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/twitter/322/fly_1fab0.png",effect:function(e,t,i){void 0!=i.entities.find((function(e){return"object"==typeof e}))?i.score-=2:i.score+=1}},{name:"\u4e0a\u4f20",desc:"\u5982\u679c\u4f60\u7684\u5b58\u6863\u4e2d\u6709\u724c\uff0c\u5219\u83b7\u5f972\u5206",has_fruit:!0,effect_type:"greedy",illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/twitter/282/cloud_2601-fe0f.png",effect:function(e,t,i){i.hand.length>0&&(i.score+=2)}},{name:"\u52a0\u901f",desc:"\u5f03\u6389\u724c\u5806\u9876\u76841\u5f20\u724c\uff0c\u5e76\u6267\u884c\u51762\u6b21",has_fruit:!0,illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/271/racing-car_1f3ce-fe0f.png",effect:function(e,t,i){var n=C(i.deck,i.discard);void 0!=n&&void 0!=n.effect&&(X(e,t,Object(a.jsxs)("span",{children:["\u6267\u884c\u4e86 ",n.name," \u4e24\u6b21"]})),n.effect(e,t,i),n.effect(e,t,i))}},{name:"\u62c6\u5f39",desc:"\u67e5\u770b\u724c\u5806\u9876\u76841\u5f20\u724c\uff0c\u5982\u679c\u662f\u70b8\u5f39\uff0c\u5c06\u5176\u5f03\u6389\u5e76\u83b7\u5f972\u5206",has_fruit:!0,effect_type:"protective",illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/google/263/wrench_1f527.png",effect:function(e,t,i){var n=i.deck[0];if(void 0!=n){if(X(e,t,Object(a.jsxs)("span",{children:["\u4f7f\u7528\u62c6\u5f39\u7ffb\u5f00 ",n.name]})),"\u70b8\u5f39"!=n.name)return;C(i.deck,i.discard),i.score+=2}}},{name:"\u5f15\u7206",desc:"\u5982\u679c\u4f60\u81f3\u5c11\u67096\u5206\uff0c\u76f4\u63a5\u51fa\u5c40\uff0c\u5426\u5219\u83b7\u5f971\u5206",effect_type:"aggressive",illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/271/fire_1f525.png",effect:function(e,t,i){i.score>=6?T(i):i.score+=1}},{name:"\u673a\u4f1a",desc:"\u5c062\u5f20\u5c71\u724c\u653e\u5230\u724c\u5e93\u9876",effect_type:"topdown",illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/271/game-die_1f3b2.png",effect:function(e,t,i){i.deck=[].concat(Object(f.a)(e.deck.slice(0,2)),Object(f.a)(i.deck)),e.deck=e.deck.slice(2)}},{name:"\u89c2\u661f",desc:"\u67e5\u770b\u724c\u5e93\u9876\u76842\u5f20\u724c",effect_type:"protective",has_fruit:!0,illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/twitter/282/magnifying-glass-tilted-left_1f50d.png",effect:function(e,t,i){if(i.deck.slice(0,2).map((function(e){return e.name})).includes("\u70b8\u5f39")&&i.entities.includes("skip")){var a=i.entities.indexOf("skip");i.entities[a]="shield"}}},{name:"\u679c\u6c41",desc:"\u5982\u679c\u4f60\u62e5\u6709\u6c34\u679c\uff0c\u5219\u83b7\u5f972\u5206",effect_type:"greedy",illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/271/cup-with-straw_1f964.png",has_fruit:!0,effect:function(e,t,i){void 0!=i.entities.find((function(e){return"object"==typeof e}))&&(i.score+=2)}}],_=["https://s1.ax1x.com/2020/11/08/BI5SKA.png","https://s1.ax1x.com/2020/11/08/BI5pDI.png","https://s1.ax1x.com/2020/11/08/BI4xvd.png","https://s1.ax1x.com/2020/11/08/BI4j8e.png","https://s1.ax1x.com/2020/11/08/BI4vgH.png","https://s1.ax1x.com/2020/11/08/BI59bt.png","https://s1.ax1x.com/2020/11/08/BI5PVP.png","https://s1.ax1x.com/2020/11/08/BI5iUf.png","https://s1.ax1x.com/2020/11/08/BI5F58.png","https://s1.ax1x.com/2020/11/08/BI5APS.png"],A="https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/google/263/beer-mug_1f37a.png";function B(e,t){var i=e.entities.filter((function(e){return"object"==typeof e&&e.fruit==t})).length;i>=4?e.score+=7:3==i?e.score+=5:2==i&&(e.score+=3)}var b,v,y=[{name:"\u76ee\u6807: \u51fb\u6740\u4e0a\u5bb6",desc:"\u5982\u679c\u4e0a\u5bb6\u5df2\u7ecf\u51fa\u5c40\uff0c\u5219\u83b7\u5f973\u5206",stackable:!0,aggressive_goal:3,effect:function(e,t,i){var a=(e.players.indexOf(i)+3)%4;1==e.players[a].out&&(i.score+=3+i.goal_bonus)}},{name:"\u76ee\u6807: \u51fb\u6740\u4e0b\u5bb6",desc:"\u5982\u679c\u4e0b\u5bb6\u5df2\u7ecf\u51fa\u5c40\uff0c\u5219\u83b7\u5f973\u5206",stackable:!0,aggressive_goal:1,effect:function(e,t,i){var a=(e.players.indexOf(i)+1)%4;1==e.players[a].out&&(i.score+=3+i.goal_bonus)}},{name:"\u76ee\u6807: \u641e\u5de6\u641e\u53f3",desc:"\u4e0a\u5bb6\u548c\u4e0b\u5bb6\u6bcf\u6709\u4e00\u4e2a\u51fa\u5c40\u7684\u5f972\u5206",aggressive_goal:1,protective_goal:3,effect:function(e,t,i){var a=e.players.indexOf(i),n=e.players[(a+3)%4],s=e.players[(a+1)%4];!0===n.out&&(i.score+=2),!0===s.out&&(i.score+=2)}},{name:"\u76ee\u6807: \u897f\u7ea2\u67ff",desc:"\u5982\u679c\u4f60\u62e5\u67092\u4e2a\u897f\u7ea2\u67ff\uff0c\u5219\u83b7\u5f973\u5206",greedy_goal:0,effect:function(e,t,i){B(i,0)}},{name:"\u76ee\u6807: \u67e0\u6aac",desc:"\u5982\u679c\u4f60\u62e5\u67092\u4e2a\u67e0\u6aac\uff0c\u5219\u83b7\u5f973\u5206",greedy_goal:1,effect:function(e,t,i){B(i,1)}},{name:"\u76ee\u6807: \u9752\u82f9\u679c",desc:"\u5982\u679c\u4f60\u62e5\u67092\u4e2a\u82f9\u679c\uff0c\u5219\u83b7\u5f973\u5206",greedy_goal:2,effect:function(e,t,i){B(i,2)}},{name:"\u76ee\u6807: \u591a\u79cd\u6c34\u679c",desc:"\u4f60\u6bcf\u67091\u79cd\u6c34\u679c\uff0c\u5c31\u83b7\u5f972\u5206",effect:function(e,t,i){var a=i.entities.filter((function(e){return"object"===typeof e})),n=new Set(a);i.score+=2*n.size}},{name:"\u76ee\u6807: \u591a\u4e2a\u6c34\u679c",desc:"\u5982\u679c\u4f60\u81f3\u5c11\u67093\u4e2a\u6c34\u679c\uff0c\u5219\u83b7\u5f974\u5206",effect:function(e,t,i){var a=i.entities.filter((function(e){return"object"===typeof e}));i.score+=a.length>=3?4:0}},{name:"\u76ee\u6807: \u5b58\u6863",desc:"\u4f60\u7684\u5b58\u6863\u4e2d\u6bcf\u67091\u5f20\u724c\uff0c\u5c31\u83b7\u5f972\u5206",target_cards:["\u5b58\u6863","\u5927\u5b58\u6863"],effect:function(e,t,i){var a=i.hand.length;i.score+=2*a}}].map((function(e){return Object(p.a)(Object(p.a)({},e),{},{is_goal:!0,illust:A})})),j=function(e,t){return function(i,a,n,s){s&&!s.is_achieved&&(!n.entities.reduce((function(e,t){if("object"==typeof t){var i=Object(f.a)(e);return i[t.fruit]+=1,i}return e}),[0,0,0]).map((function(t,i){return t-e[i]>=0})).includes(!1)&&(n.score+=t,s.is_achieved=!0,i.gamelogs.unshift("\u548c\u724c!"),console.log("\u548c\u724c",s.desc,s.is_achieved)))}},w=[{name:"\u516c\u5171\u76ee\u6807(5\u5206)",desc:"AAA",effect:j([3,0,0],5),greedy_goal:0},{name:"\u516c\u5171\u76ee\u6807(5\u5206)",desc:"BBB",effect:j([0,3,0],5),greedy_goal:1},{name:"\u516c\u5171\u76ee\u6807(5\u5206)",desc:"CCC",effect:j([0,0,3],5),greedy_goal:2},{name:"\u516c\u5171\u76ee\u6807(3\u5206)",desc:"AA",effect:j([2,0,0],3),greedy_goal:0},{name:"\u516c\u5171\u76ee\u6807(3\u5206)",desc:"BB",effect:j([0,2,0],3),greedy_goal:1},{name:"\u516c\u5171\u76ee\u6807(3\u5206)",desc:"CC",effect:j([0,0,2],3),greedy_goal:2},{name:"\u516c\u5171\u76ee\u6807(4\u5206)",desc:"XXX",greedy_goal:-1,effect:(b=3,v=4,function(e,t,i,a){a&&!a.is_achieved&&i.entities.reduce((function(e,t){return"object"==typeof t?e+1:e}),0)>=b&&(i.score+=v+e.public_goal_bonus,a.is_achieved=!0,e.gamelogs.unshift("\u548c\u724c!"),console.log("\u548c\u724c",a.desc,a.is_achieved))})}].map((function(e){return Object(p.a)(Object(p.a)({},e),{},{is_goal:!0,is_public:!0,illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/google/263/green-salad_1f957.png"})})),k=i(6),F=i(9);function x(e,t){var i={};for(var a in t)i[a]=e(t[a],a);return i}var O=function(){function e(t,i){if(Object(k.a)(this,e),this.seed=void 0,this.val=void 0,this.seed=t||0,void 0==i)if(this.val=0,"string"==typeof t)for(var a=0;a<t.length;a++)this.val+=t.charCodeAt(a);else this.val=t;else this.val=i}return Object(F.a)(e,[{key:"random",value:function(){var e=1e4*Math.sin(this.val++),t=e-Math.floor(e);return this.val+=2,t}},{key:"randRange",value:function(e){return Math.floor(e*this.random())}},{key:"choice",value:function(e){var t=e.length;return e[this.randRange(t)]}},{key:"shuffle",value:function(e){for(var t=e.slice(0),i=e.length,a=0,n=new Array(i);i;){var s=i*this.random()|0;n[a++]=t[s],t[s]=t[--i]}return n}}]),e}();function C(e,t){var i=e.splice(0,1)[0];return i?(t.unshift(i),i):void 0}var D=function(e,t){e.num_places=0;var i,a=Object(d.a)(e.players);try{for(a.s();!(i=a.n()).done;){i.value.score>=12&&(e.should_finished=!0,console.log("Game Finished: ",e.players.map((function(e){return e.score}))))}}catch(c){a.e(c)}finally{a.f()}e.phase="place",e.round+=1,e.deck=function(e,t){var i,a=[].concat(Object(f.a)(m.a.times(4,(function(){return"\u70b8\u5f39"}))),Object(f.a)(m.a.times(2,(function(){return"\u62a4\u7532"}))),Object(f.a)(m.a.times(2,(function(){return"\u5f15\u7206"}))),Object(f.a)(m.a.times(1,(function(){return"\u62c6\u5f39"}))),Object(f.a)(m.a.times(2,(function(){return"\u7167\u76f8\u673a"}))),Object(f.a)(m.a.times(2,(function(){return"\u679c\u6c41"}))),Object(f.a)(m.a.times(2,(function(){return"\u89c2\u661f"}))),Object(f.a)(m.a.times(2,(function(){return"\u5b58\u6863"}))),Object(f.a)(m.a.times(1,(function(){return"\u5927\u5b58\u6863"}))),Object(f.a)(m.a.times(1,(function(){return"\u9001\u6e29\u6696"}))),Object(f.a)(m.a.times(2,(function(){return"\u96c6\u4f53\u5b58\u6863"}))),Object(f.a)(m.a.times(1,(function(){return"\u7f8e\u5473\u4f73\u80b4"}))),Object(f.a)(m.a.times(1,(function(){return"\u640b\u5b50"}))),Object(f.a)(m.a.times(1,(function(){return"\u4e09\u5c4e"}))),Object(f.a)(m.a.times(1,(function(){return"\u897f\u7ea2\u67ff"}))),Object(f.a)(m.a.times(1,(function(){return"\u67e0\u6aac"}))),Object(f.a)(m.a.times(1,(function(){return"\u82f9\u679c"})))).map((function(e){return h.find((function(t){return t.name==e}))})).filter((function(e){return void 0!=e})).map((function(e){return Object(p.a)({},e)})),n=Object(d.a)(a);try{for(n.s();!(i=n.n()).done;){var s=i.value;s.has_fruit&&(s.fruit=e.rng.randRange(3))}}catch(c){n.e(c)}finally{n.f()}return e.rng.shuffle(a)}(e),e.init_player=(e.init_player+1)%4,e.public_goal_bonus=0;var n,s=Object(d.a)(e.players);try{for(s.s();!(n=s.n()).done;){var r=n.value;r.deck=[],r.hand=[],r.discard=[],r.entities=["skip"],r.out=!1,r.finished=!1,r.previous_action=-1,r.fruit_bonus=0,r.goal_bonus=0,r.survive_bonus=0,r.has_tempura=!1}}catch(c){s.e(c)}finally{s.f()}!function(e,t){for(var i=e.rng.shuffle([].concat(Object(f.a)(y),Object(f.a)(y.filter((function(e){return e.stackable}))))),a=0;a<e.players.length;a++)e.players[a].goals=i.slice(a,a+1);e.public_goals=e.rng.shuffle(w.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{is_achieved:!1})}))).slice(0,1)}(e),function(e,t){var i,a=Object(d.a)(e.players);try{for(a.s();!(i=a.n()).done;){var n=i.value;n.hand=e.deck.slice(0,6),e.deck=e.deck.slice(6),n.previous_actions=[],n.preset_ai_behaviour&&(n.ai_behaviour=n.preset_ai_behaviour)}}catch(c){a.e(c)}finally{a.f()}}(e)};var N=function(e,t){for(var i=[{aggressive:0,protective:6,topdown:5,greedy:8,protective_growth:4,topdown_growth:0,greedy_growth:0},{aggressive:2,protective:5,topdown:2,greedy:9,protective_growth:0,topdown_growth:5,greedy_growth:5},{aggressive:6,protective:7,topdown:1,greedy:9,protective_growth:0,topdown_growth:0,greedy_growth:0}],a=0;a<4;a++)e.players[a].preset_ai_behaviour=e.rng.choice(i)};function G(e,t){var i=(t+1)%e.length;return e[i].finished||e[i].out?G(e,i):i}var S=function(e,t,i,a,n){var s=e.players[i],r=s.hand[a];s.hand=s.hand.filter((function(e){return e!=r})),e.players[(i+n)%e.players.length].deck.unshift(r),s.previous_action=n},z=function(e,t){var i,a=Object(d.a)(e.ai_players);try{for(a.s();!(i=a.n()).done;){for(var n=i.value,s=e.players[n],r=[],c=0;c<s.hand.length;c++)r.push({weight:0,direction:[]});var o=Object(f.a)(e.players).sort((function(e,t){return t.score-e.score})),p=o[0];p==s&&(p=o[1]),e.round>=3&&(o.slice(0,2).includes(s)?s.ai_behaviour.topdown=(s.preset_ai_behaviour||{topdown:0}).topdown+s.ai_behaviour.topdown_growth:s.ai_behaviour.greedy=(s.preset_ai_behaviour||{greedy:0}).greedy+s.ai_behaviour.greedy_growth);var u,l=0,E=Object(d.a)(e.players);try{for(E.s();!(u=E.n()).done;){var g=u.value;g.previous_action&&(e.players.indexOf(g)+g.previous_action)%4==n&&(l+=1)}}catch(ne){E.e(ne)}finally{E.f()}0!==l&&(s.ai_behaviour.greedy-=s.ai_behaviour.protective_growth,s.ai_behaviour.protective+=s.ai_behaviour.protective_growth);var m,h=Object(d.a)(s.goals);try{for(h.s();!(m=h.n()).done;){var _=m.value;if(_.aggressive_goal)for(var A=0;A<s.hand.length;A++){var B=s.hand[A],b=r[A];"aggressive"===B.effect_type&&(b.weight+=s.ai_behaviour.aggressive+s.ai_behaviour.greedy,b.direction.push(_.aggressive_goal),void 0!==_.protective_goal&&b.direction.push(_.protective_goal))}if(void 0!==_.greedy_goal)for(var v=0;v<s.hand.length;v++){var y=s.hand[v],j=r[v];y.fruit!==_.greedy_goal&&y.super_fruit!==_.greedy_goal||(j.weight+=s.ai_behaviour.greedy,y.super_fruit===_.greedy_goal&&(j.weight+=2*s.ai_behaviour.greedy),j.direction.push(0))}if(_.target_cards){var w,k=!1,F=Object(d.a)(s.deck);try{for(F.s();!(w=F.n()).done;){var x=w.value;_.target_cards.includes(x.name)&&(k=!0)}}catch(ne){F.e(ne)}finally{F.f()}if(!1===k)for(var O=0;O<s.hand.length;O++){var C=s.hand[O],D=r[O];_.target_cards.includes(C.name)&&(D.weight+=2*s.ai_behaviour.greedy,D.direction.push(0))}}for(var N=e.public_goals[0].greedy_goal,G=0;G<s.hand.length;G++){var S=s.hand[G],z=r[G];S.fruit!==N&&S.super_fruit!==N||(z.weight+=s.ai_behaviour.greedy,S.super_fruit===N&&(z.weight+=3*s.ai_behaviour.greedy),z.direction.push(0)),void 0!=S.super_fruit&&-1==N&&(z.weight+=2*s.ai_behaviour.greedy,z.direction.push(0))}}}catch(ne){h.e(ne)}finally{h.f()}for(var I=0;I<s.hand.length;I++){var R=s.hand[I],T=r[I];"greedy"==R.effect_type&&(T.weight+=s.ai_behaviour.greedy,"\u9001\u6e29\u6696"!=R.name?T.direction.push(0):T.direction.push(e.rng.choice([1,3])))}for(var M=0;M<s.hand.length;M++){var L=s.hand[M],P=r[M];"protective"==L.effect_type&&(P.weight+=s.ai_behaviour.protective,"\u96c6\u4f53\u5b58\u6863"==L.name?P.direction.push(e.rng.choice([1,2,3])):P.direction.push(0))}for(var X=0;X<s.hand.length;X++){var W=s.hand[X],H=r[X];"topdown"!=W.effect_type&&"aggressive"!=W.effect_type||(H.weight+=s.ai_behaviour.topdown,H.direction.push((4+e.players.indexOf(p)-n)%4))}var U=[0,0,0,0];U[n]=-99;for(var Q=0;Q<e.players.length;Q++){e.players[Q];for(var V=0;V<e.players.length;V++)if(Q!=V){var q,K=e.players[V],Z=Object(d.a)(K.previous_actions);try{for(Z.s();!(q=Z.n()).done;){(V+q.value)%4==Q&&(U[Q]+=1)}}catch(ne){Z.e(ne)}finally{Z.f()}}}if(-1!=U.indexOf(0))for(var Y=(4+(U.indexOf(0)+4)%4-n)%4,J=0;J<s.hand.length;J++){var $=s.hand[J],ee=r[J];"topdown"!=$.effect_type&&"aggressive"!=$.effect_type||(ee.weight+=s.ai_behaviour.aggressive*((7-s.hand.length)/7),ee.direction.push(Y))}var te=[].concat(r);te.sort((function(e,t){return t.weight-e.weight}));var ie=r.indexOf(te[0]),ae=0;te[0].direction.length>0&&(ae=e.rng.choice(te[0].direction)),e.actions.push({from_idx:n,card_idx:ie,direction:ae})}}catch(ne){a.e(ne)}finally{a.f()}},I=function(e,t){var i=e.players.map((function(e){return e.hand})),a=i.length;if(0==i[0].length)!function(e,t){e.phase="action";var i,a=Object(d.a)(e.players);try{for(a.s();!(i=a.n()).done;){var n=i.value;n.deck=e.rng.shuffle(n.deck),n.deck=[].concat(Object(f.a)(n.deck),Object(f.a)(n.goals))}}catch(s){a.e(s)}finally{a.f()}e.next_action="flip",e.active_player_idx=e.init_player,e.num_moves=0}(e);else{i=[i[a-1]].concat(Object(f.a)(i.slice(0,a-1)));for(var n=0;n<a;n++)e.players[n].hand=i[n]}var s,r=Object(d.a)(e.players);try{for(r.s();!(s=r.n()).done;){s.value.placed=!1}}catch(c){r.e(c)}finally{r.f()}};function R(e){var t=e.deck[0];return void 0!=t&&(e.deck=e.deck.slice(1),e.discard.unshift(t)),t}function T(e){var t=e.entities.map((function(e,t){return"shield"==e?t:void 0})).filter((function(e){return void 0!=e}))[0];void 0!=t?e.entities=e.entities.filter((function(e,i){return i!=t})):(e.out=!0,e.finished=!0)}var M=function(e,t,i){if(e.num_moves+=1,"execute"==e.next_action||i)if(function(e){return void 0==e.players.find((function(e){return!(e.finished||e.out)}))}(e))!function(e,t){D(e)}(e);else{var a=G(e.players,e.active_player_idx);e.active_player_idx=a,e.next_action="flip"}else e.next_action="execute"},L=function(e,t,i,a){if("flip"!=e.next_action||e.active_player_idx!=i)return E.t;var n=e.players[e.active_player_idx],s=!1,r=n.entities.find((function(e){return"skip"==e}));if("skip"==a&&void 0!=r){var c=n.entities.indexOf(r);R(n),n.entities.splice(c,1),s=!0,X(e,t,"\u9009\u62e9\u8df3\u8fc7"),0==n.deck.length&&(n.finished=!0)}else if("object"==typeof a&&"archive_idx"in a){var o=n.hand[a.archive_idx];if(void 0==o)return E.t;n.hand=n.hand.filter((function(e){return e!=o})),n.discard.unshift(o)}else R(n),void 0!==n.discard[0]&&X(e,t,"\u7ffb\u5f00 ".concat(n.discard[0].name));M(e,0,s)},P=function(e,t,i,a){if(i!=e.active_player_idx)return E.t;var n=e.players[e.active_player_idx],s=n.discard[0];if("fruit"==a){if(void 0===s.fruit&&void 0===s.super_fruit)return E.t;var r=[0,0,0];void 0!==s.fruit&&(r[s.fruit]=1),void 0!==s.super_fruit&&(r[s.super_fruit]=2),function(e,t,i,a){for(var n=0;n<3;n++)for(var s=0;s<a[n];s++)i.entities.push({fruit:n}),i.score+=i.fruit_bonus;var r,c=Object(d.a)(e.public_goals);try{var o=function(){var a=r.value;w.find((function(e){return e.desc==a.desc})).effect(e,t,i,a)};for(c.s();!(r=c.n()).done;)o()}catch(p){c.e(p)}finally{c.f()}}(e,t,n,r),X(e,t,"\u5c06 ".concat(s.name," \u4f5c\u4e3a\u6c34\u679c"))}else(s=(s.is_goal?y:h).find((function(e){return e.name==s.name}))).effect&&s.effect(e,t,n,s),X(e,t,"\u6267\u884c ".concat(s.name)),"\u89c2\u661f"==s.name&&X(e,t,"\u89c2\u5bdf\u5230 ".concat(n.deck.slice(0,2).map((function(e){return e.name}))));n.finished=n.out||0==n.deck.length,0===n.deck.length&&(n.score+=n.survive_bonus,n.survive_bonus=0),M(e)},X=function(e,t,i){e.gamelogs.unshift(i)},W={setup:function(e){var t=new O(114514),i={deck:[],players:m.a.times(4,(function(){return function(e){return{score:0,hand:[],deck:[],discard:[],goals:[],entities:["skip"],previous_action:-1,previous_actions:[],finished:!1,out:!1,fruit_bonus:0,goal_bonus:0,survive_bonus:0,ai_behaviour:{aggressive:e.randRange(10),protective:e.randRange(10),greedy:e.randRange(10),topdown:e.randRange(10),greedy_growth:e.randRange(3),protective_growth:e.randRange(3),topdown_growth:e.randRange(5)}}}(t)})),public_goals:[],rng:t,actions:[],round:-1,init_player:0,active_player_idx:0,next_action:"place",phase:"place",host:0,ai_players:[0,1,2,3].slice(e.numPlayers),gamelogs:[],num_places:0,num_moves:0,public_goal_bonus:0,should_finished:!1,f1:function(){return"f1"},f2:function(){return"f2"}};return console.log("How many Players AI: ".concat(e.numPlayers," ").concat(i.ai_players)),i},moves:{setup_scenario:function(e,t,i){e.rng=new O(i),function(e,t){for(var i=e.players.length,a=e.rng.shuffle(_).slice(0,i),n=0;n<i;n++)e.players[n].illust=a[n]}(e),N(e,t),D(e)},set_ai_players:function(e,t,i){e.ai_players=[0,1,2,3].slice(-i),console.log("New AI Players",e.ai_players)},set_ai_behaviours:function(e,t,i){for(var a=0;a<4;a++)e.players[a].preset_ai_behaviour=i[a]},add_action:function(e,t,i){void 0!=i&&(e.actions.push(i),e.players[i.from_idx].placed=!0,i.from_idx==e.host&&z(e));e.actions.length==e.players.length&&function(e,t){var i,a=Object(d.a)(e.actions);try{for(a.s();!(i=a.n()).done;){var n=i.value;S(e,0,n.from_idx,n.card_idx,n.direction),e.players[n.from_idx].previous_actions.push(n.direction)}}catch(s){a.e(s)}finally{a.f()}e.actions=[],e.num_places+=1,I(e)}(e)},flip:L,execute:P,ai_moves:z,ai_act:function(e,t,i){if(!e.ai_players.includes(e.active_player_idx)||e.host!=i)return E.t;var a=e.players[e.active_player_idx];if("flip"==e.next_action){var n="flip";if(a.hand.length>0){var s=a.hand[0];"aggressive"==s.effect_type||"topdown"==s.effect_type||(a.goals[0].target_cards||[]).includes("\u5b58\u6863")||(n={archive_idx:0})}a.entities.includes("skip")&&a.deck.length>1&&a.deck.length<5&&a.goals[0].target_cards!=["\u978b\u5b50"]&&a.ai_behaviour.protective>a.ai_behaviour.greedy&&!a.entities.includes("shield")&&(n="skip"),L(e,t,e.active_player_idx,n)}else{if("execute"!=e.next_action)return E.t;var r="execute";a.ai_behaviour.greedy>a.ai_behaviour.protective&&[].concat(Object(f.a)(e.public_goals.filter((function(e){return!e.is_achieved})).map((function(e){return e.greedy_goal}))),[a.goals[0].greedy_goal]).filter((function(e){return void 0!=e})).includes(a.discard[0].fruit)&&(r="fruit"),"\u679c\u6c41"==a.discard[0].name&&0==a.entities.filter((function(e){return"object"==typeof e})).length&&(r="fruit"),void 0!==a.discard[0].super_fruit&&(r="fruit"),P(e,t,e.active_player_idx,r)}},log_msg:X},minPlayers:1,maxPlayers:4,turn:{activePlayers:E.H.ALL},plugins:[{name:"rng",fnWrap:function(e){return function(t,i){for(var a=arguments.length,n=new Array(a>2?a-2:0),s=2;s<a;s++)n[s-2]=arguments[s];return t=e.apply(void 0,[Object(p.a)(Object(p.a)({},t),{},{rng:new O(114514,t.rng.val)}),i].concat(n))}}}]},H=i(25),U=(i(36),{height:"auto",width:"1.0em"}),Q=["https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/google/263/tomato_1f345.png","https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/google/263/lemon_1f34b.png","https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/google/263/green-apple_1f34f.png"].map((function(e){return Object(a.jsx)("img",{src:e,style:U})})),V=Object(a.jsx)("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/twitter/259/shield_1f6e1.png",style:U}),q=Object(a.jsx)("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/twitter/259/running-shoe_1f45f.png",style:U});function K(){return{board:"GoalBoard",player_idx:0,log:"",dream_count:0}}function Z(e,t){var i=e.players[t.player_idx];if("place"==e.phase)return i.placed||void 0==t.hand_selected?[]:function(e,t){var i=["\u81ea\u5df1","\u4e0b\u5bb6","\u4e0a\u5bb6","\u5bf9\u5bb6"];return[0,1,3,2].map((function(a,n){return{name:i[n],action:"add_place_action",args:[e,t,a]}}))}(t.player_idx,t.hand_selected);if(e.active_player_idx==t.player_idx){if(t.player_idx==e.host&&e.ai_players.includes(e.active_player_idx))return[{name:"\u884c\u52a8",action:"ai_act",args:[t.player_idx]}];if("flip"==e.next_action){var a=[{name:"\u7ffb\u5f00",action:"flip",args:[t.player_idx,"flip"]}];return i.entities.includes("skip")&&a.push({name:"\u8df3\u8fc7",action:"flip",args:[t.player_idx,"skip"]}),i.hand.length>0&&void 0!=t.hand_selected&&a.unshift({name:"\u6253\u51fa\u5b58\u6863",action:"flip",args:[t.player_idx,{archive_idx:t.hand_selected}]}),a}var n=[{name:"\u6267\u884c",action:"execute",args:[t.player_idx,"execute"]}],s=i.discard[0];return void 0===s.fruit&&void 0===s.super_fruit||n.push({name:"\u4f5c\u4e3a\u6c34\u679c",action:"execute",args:[t.player_idx,"fruit"]}),n}return t.player_idx==e.host&&e.ai_players.includes(e.active_player_idx)?[{name:"\u884c\u52a8",action:"ai_act",args:[t.player_idx]}]:[]}var Y=function(e,t){e.log=t},J={select_hand:function(e,t,i){!function(e,t){e.hand_selected==t?e.hand_selected=void 0:e.hand_selected=t}(e,t);var n=i.hand[t];i.placed||Y(e,Object(a.jsxs)("span",{children:[n.name,": ",n.desc]}))},clear_state:function(e){e.hand_selected=void 0},change_board:function(e,t){e.board=t},log_msg:Y,enter_dream:function(e){e.dream_count+=1}},$={add_place_action:function(e,t,i,a,n){e.add_action({from_idx:i,card_idx:a,direction:n}),t.clear_state()},ai_act:function(e,t,i){e.ai_act(i)},flip:function(e,t,i,a){e.flip(i,a)},execute:function(e,t,i,a){e.execute(i,a)},ai_moves:function(e,t,i){e.ai_moves(i),e.add_action()}};function ee(e){return Object(a.jsxs)("div",{className:"top-panel",children:[Object(a.jsx)("button",{className:"check-goal-button",onClick:e.checkGoal,children:"\u67e5\u770b\u76ee\u6807"}),Object(a.jsx)("div",{onClick:e.addAI,children:e.gameCount})]})}function te(e){return Object(a.jsx)("div",{className:"deck-area",children:Object(a.jsx)("div",{className:"card-num",children:e.cardNum})})}function ie(e){return Object(a.jsx)("div",{className:"play-area",children:Object(a.jsx)(le,Object(p.a)({},e.playedCard))})}function ae(e){return Object(a.jsxs)("div",{className:"card-areas",children:[Object(a.jsx)(te,{cardNum:e.cardNum}),Object(a.jsx)(ie,{playedCard:e.playedCard})]})}function ne(e){return Object(a.jsxs)("div",{className:"avatar",style:{border:e.selected?"3px solid #61dafb":e.out?"1px solid #f5222d":void 0},children:[Object(a.jsx)("img",{src:e.illust,className:"avatar-img"}),Object(a.jsx)("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/twitter/259/check-mark-button_2705.png",className:"tick-icon",style:{display:e.placed?void 0:"none"}})]})}function se(e){return Object(a.jsx)("div",{className:"info-line",style:{color:"\u6263\u7ed9\u4f60"==e.content?"#61dafb":void 0},children:e.content})}function re(e){return Object(a.jsxs)("div",{className:"player-info",children:[Object(a.jsx)(ne,{illust:e.illust,selected:e.selected,out:e.out,placed:e.placed}),Object(a.jsx)(se,{content:"".concat(e.name,"(").concat(e.score,"\u5206)")}),Object(a.jsx)(se,{content:e.info})]})}function ce(e){return Object(a.jsxs)("div",{className:"player",children:[Object(a.jsx)(ae,{cardNum:e.playerInfo.deck.length,playedCard:e.playerInfo.discard[0]}),Object(a.jsx)(re,Object(p.a)({},e.playerInfo))]})}function oe(e){return Object(a.jsx)("div",{className:"central",children:e.players.map((function(e){return Object(a.jsx)(ce,{playerInfo:e})}))})}function pe(e){return Object(a.jsx)("div",{className:"info-panel",onClick:e.handleClick,children:e.log})}function ue(e){var t=e.operations[0],i=t&&"\u884c\u52a8"==t.name;Object(n.useEffect)((function(){if(1==i){var t=e.operations[0];console.log("Ready to auto_move ".concat(e.G.active_player_idx," ").concat(e.G.next_action)),setTimeout((function(){var i;(i=e.combined)[t.action].apply(i,Object(f.a)(t.args||[]))}),600)}}),[e.G.active_player_idx,e.G.next_action,e.G.num_moves]);var s=i?[]:e.operations;return Object(a.jsx)("div",{className:"controller",children:s.map((function(t){return Object(a.jsx)("button",{className:"controller-button",onClick:function(){var i;return(i=e.combined)[t.action].apply(i,Object(f.a)(t.args||[]))},children:t.name})}))})}function le(e){return Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("div",{className:"illust-container",children:Object(a.jsx)("img",{className:"illust",src:e.illust})}),Object(a.jsx)("div",{className:"card-fruit",style:{display:void 0!=e.fruit?void 0:"none"},children:void 0!=e.fruit?Q[e.fruit]:""})]})}function de(e){return Object(a.jsx)("div",{className:"card-container",style:{border:1==e.card.selected?"3px solid #61dafb":void 0},onClick:e.handleClick,children:Object(a.jsx)(le,Object(p.a)({},e.card))})}function fe(e){return Object(a.jsx)("div",{className:"card-row",children:e.cards.map((function(t,i){return Object(a.jsx)(de,{card:t,handleClick:e.handleCardClick(i)})}))})}function Ee(e,t,i){return"place"==t.phase?-1!=e.previous_action?(t.players.indexOf(e)+e.previous_action)%4==i.player_idx&&0!=e.previous_action?"\u6263\u7ed9\u4f60":["\u6263\u7ed9\u81ea\u5df1","\u6263\u7ed9\u4e0b\u5bb6","\u6263\u7ed9\u5bf9\u5bb6","\u6263\u7ed9\u4e0a\u5bb6"][e.previous_action]:"\u51c6\u5907\u6263\u724c":e.finished?e.out?"\u5df2\u51fa\u5c40":"\u5df2\u5b8c\u6210":e.entities.map((function(e){return function(e){return"object"==typeof e?Q[e.fruit]:"shield"==e?V:q}(e)}))}function ge(e,t){var i=e-t;return i<0?4+i:i}function me(e){var t,i,n;return Object(a.jsxs)("div",{className:"board",children:[Object(a.jsx)(oe,{players:(i=e.G.players.map((function(t,i){return function(e,t,i,a){return Object(p.a)(Object(p.a)({},e),{},{name:["\u73a9\u5bb6","\u4e0b\u5bb6","\u5bf9\u5bb6","\u4e0a\u5bb6"][ge(t,a.player_idx)],info:Ee(e,i,a),selected:"action"==i.phase&&t==i.active_player_idx})}(t,i,e.G,e.S)})),n=[(e.S.player_idx+2)%4,(e.S.player_idx+3)%4,(e.S.player_idx+1)%4,e.S.player_idx],n.map((function(e){return i[e]})))}),Object(a.jsx)(pe,{log:"place"==e.G.phase?e.S.log:e.G.gamelogs[0],handleClick:function(){return alert(e.G.gamelogs)}}),Object(a.jsx)(ue,{operations:Z(e.G,e.S),combined:e.combined,G:e.G}),Object(a.jsx)(fe,{cards:e.G.players[e.S.player_idx].hand.map((t=e.S,function(e,i){return Object(p.a)(Object(p.a)({},e),{},{selected:t.hand_selected==i})})),handleCardClick:function(t){return function(){return e.actions.select_hand(t,e.G.players[e.S.player_idx])}}}),Object(a.jsx)(ee,{gameCount:"".concat("\u6771\u5357\u897f\u5317"[Math.floor(e.G.round/4)]).concat(e.G.round%4+1,"\u5c40"),checkGoal:function(){return e.actions.change_board("GoalBoard")},addAI:function(){var t=e.S.dream_count+1;t%3==2&&(alert("\u589e\u52a0\u4e86\u4e00\u4e2aAI"),e.moves.set_ai_players(Math.ceil(t/3))),e.actions.enter_dream()}})]})}function he(e){var t=1==e.goal.is_public?"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/google/263/green-salad_1f957.png":A;return e.illust&&(t=e.illust),Object(a.jsxs)("div",{className:"goal",children:[Object(a.jsx)("div",{className:"goal-illust-container",style:{border:e.selected?"3px solid #52c41a":void 0},children:Object(a.jsx)("img",{className:"goal-illust",src:t})}),Object(a.jsx)("div",{className:"goal-desc-container",children:Object(a.jsxs)("div",{className:"goal-desc",children:[e.goal.name,Object(a.jsx)("br",{}),e.goal.desc]})})]})}function _e(e){var t={A:Q[0],B:Q[1],C:Q[2]};return e.split("").map((function(e){return t[e]?t[e]:e}))}var Ae={GameBoard:me,GoalBoard:function(e){return Object(a.jsxs)("div",{className:"board",children:[Object(a.jsxs)("div",{className:"goals-container",children:[e.G.public_goals.filter((function(e){return!e.is_achieved})).map((function(e){return Object(a.jsx)(he,{goal:{name:e.name,desc:_e(e.desc),is_public:e.is_public}})})),e.G.players[e.S.player_idx].goals.map((function(e){return Object(a.jsx)(he,{goal:{name:e.name,desc:e.desc,is_public:e.is_public}})}))]}),Object(a.jsx)("button",{className:"gb-back-button",onClick:function(){return e.actions.change_board("GameBoard")},children:"\u8fd4\u56de"})]})},FinalBoard:function(e){return Object(a.jsx)("div",{className:"board",children:Object(a.jsx)("div",{className:"goals-container",children:e.G.players.map((function(e){return Object(p.a)({},e)})).sort((function(e,t){return t.score-e.score})).map((function(t,i){return Object(a.jsx)(he,{goal:{name:"".concat(i+1,"\u4f4d"),desc:"".concat(t.score,"\u5206")},illust:t.illust,selected:t.illust==e.G.players[e.S.player_idx].illust})}))})})}};function Be(e){var t=Object(n.useState)(K),i=Object(o.a)(t,2),a=i[0],s=i[1],r=x((function(e){return function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return s(Object(H.b)((function(t){return e.apply(void 0,[t].concat(i))})))}}),J),c=x((function(t){return function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return t.apply(void 0,[e.moves,r].concat(a))}}),$),u=e.G,l=e.ctx,d=e.moves,f={G:u,ctx:l,moves:d,S:a,actions:r,combined:c};return Object(n.useEffect)((function(){"place"==u.phase&&4!=u.ai_players.length&&r.change_board("GoalBoard")}),[u.phase]),Object(n.useEffect)((function(){s(Object(p.a)(Object(p.a)({},a),{},{player_idx:parseInt(e.playerID||"0")})),console.log(Object(p.a)({},e)),console.log("The player ID is: ".concat(e.playerID)),(e.playerID==e.G.host+""||void 0==e.playerID)&&(console.log("This guy is host"),e.moves.setup_scenario(Date()))}),[]),Object(n.useEffect)((function(){(e.G.round>=12||void 0!=e.G.players.find((function(e){return e.score>=12})))&&r.change_board("FinalBoard")}),[e.G.round]),Object(n.useEffect)((function(){console.log("Num places:",e.G.num_places),4==e.G.ai_players.length&&"place"==e.G.phase&&(console.log("Auto place cards"),setTimeout((function(){c.ai_moves(),console.log("Placed")}),1e3))}),[e.G.ai_players,e.G.num_places]),(Ae[a.board]||me)(f)}i(74);var be=function(e){return Object(a.jsx)("div",{className:"board",children:Object(a.jsxs)("div",{className:"title-block",children:[Object(a.jsx)("div",{className:"title-img-container",children:Object(a.jsx)("img",{className:"title-img",src:e.titleImg})}),Object(a.jsx)("h2",{className:"title",children:e.title}),Object(a.jsxs)("div",{style:{display:e.dadiao?void 0:"none"},children:["\u5236\u4f5c: ",Object(a.jsx)("a",{href:"https://space.bilibili.com/8492192/dynamic/",className:"title-a",children:"\u5927\u96d5\u6e38\u620f"})]}),e.operations.map((function(e){return Object(a.jsxs)("span",{children:[Object(a.jsx)("button",{className:"title-screen-button primary",onClick:e.effect,children:e.name}),Object(a.jsx)("br",{})]})}))]})})},ve=i(45),ye=(i(77),[["\u7f57\u5bbe","http://prts.wiki/images/1/1f/%E5%A4%B4%E5%83%8F_%E7%BD%97%E5%AE%BE.png"],["\u5361\u592b\u5361","http://prts.wiki/images/8/8d/%E5%A4%B4%E5%83%8F_%E5%8D%A1%E5%A4%AB%E5%8D%A1.png"],["\u5c71","http://prts.wiki/images/e/ec/%E5%A4%B4%E5%83%8F_%E5%B1%B1.png"],["\u677e\u679c","http://prts.wiki/images/5/5e/%E5%A4%B4%E5%83%8F_%E6%9D%BE%E6%9E%9C.png"],["\u963f\u7c73\u5a05(\u8fd1\u536b)","http://prts.wiki/images/5/5b/%E5%A4%B4%E5%83%8F_%E9%98%BF%E7%B1%B3%E5%A8%85%28%E8%BF%91%E5%8D%AB%29.png"],["\u8ff7\u8fed\u9999","http://prts.wiki/images/3/3b/%E5%A4%B4%E5%83%8F_%E8%BF%B7%E8%BF%AD%E9%A6%99.png"],["\u6ce5\u5ca9","http://prts.wiki/images/0/06/%E5%A4%B4%E5%83%8F_%E6%B3%A5%E5%B2%A9.png"],["\u7d6e\u96e8","http://prts.wiki/images/3/34/%E5%A4%B4%E5%83%8F_%E7%B5%AE%E9%9B%A8.png"],["\u6770\u514b","http://prts.wiki/images/d/d8/%E5%A4%B4%E5%83%8F_%E6%9D%B0%E5%85%8B.png"],["\u7455\u5149","http://prts.wiki/images/f/f7/%E5%A4%B4%E5%83%8F_%E7%91%95%E5%85%89.png"],["\u5965\u65af\u5854","http://prts.wiki/images/4/49/%E5%A4%B4%E5%83%8F_%E5%A5%A5%E6%96%AF%E5%A1%94.png"],["\u97ad\u5203","http://prts.wiki/images/f/f8/%E5%A4%B4%E5%83%8F_%E9%9E%AD%E5%88%83.png"],["\u6ce1\u6ce1","http://prts.wiki/images/2/28/%E5%A4%B4%E5%83%8F_%E6%B3%A1%E6%B3%A1.png"],["\u53f2\u5c14\u7279\u5c14","http://prts.wiki/images/e/e1/%E5%A4%B4%E5%83%8F_%E5%8F%B2%E5%B0%94%E7%89%B9%E5%B0%94.png"],["\u56db\u6708","http://prts.wiki/images/d/d3/%E5%A4%B4%E5%83%8F_%E5%9B%9B%E6%9C%88.png"],["\u8584\u7eff","http://prts.wiki/images/3/30/%E5%A4%B4%E5%83%8F_%E8%96%84%E7%BB%BF.png"],["\u82b3\u6c40","http://prts.wiki/images/6/6a/%E5%A4%B4%E5%83%8F_%E8%8A%B3%E6%B1%80.png"],["\u68ee\u86ba","http://prts.wiki/images/7/74/%E5%A4%B4%E5%83%8F_%E6%A3%AE%E8%9A%BA.png"],["\u71e7\u77f3","http://prts.wiki/images/a/ac/%E5%A4%B4%E5%83%8F_%E7%87%A7%E7%9F%B3.png"],["\u7279\u7c73\u7c73","http://prts.wiki/images/b/b9/%E5%A4%B4%E5%83%8F_%E7%89%B9%E7%B1%B3%E7%B1%B3.png"],["\u9178\u7cd6","http://prts.wiki/images/e/e9/%E5%A4%B4%E5%83%8F_%E9%85%B8%E7%B3%96.png"],["\u68d8\u523a","http://prts.wiki/images/2/2a/%E5%A4%B4%E5%83%8F_%E6%A3%98%E5%88%BA.png"],["\u5b89\u54f2\u62c9","http://prts.wiki/images/3/36/%E5%A4%B4%E5%83%8F_%E5%AE%89%E5%93%B2%E6%8B%89.png"],["\u5b51","http://prts.wiki/images/5/54/%E5%A4%B4%E5%83%8F_%E5%AD%91.png"],["\u8d3e\u7ef4","http://prts.wiki/images/2/2a/%E5%A4%B4%E5%83%8F_%E8%B4%BE%E7%BB%B4.png"],["\u871c\u8721","http://prts.wiki/images/1/1d/%E5%A4%B4%E5%83%8F_%E8%9C%9C%E8%9C%A1.png"],["\u7a00\u97f3","http://prts.wiki/images/c/c6/%E5%A4%B4%E5%83%8F_%E7%A8%80%E9%9F%B3.png"],["\u94c3\u5170","http://prts.wiki/images/5/55/%E5%A4%B4%E5%83%8F_%E9%93%83%E5%85%B0.png"],["\u65ad\u5d16","http://prts.wiki/images/e/ea/%E5%A4%B4%E5%83%8F_%E6%96%AD%E5%B4%96.png"],["\u4e9a\u53f6","http://prts.wiki/images/b/b5/%E5%A4%B4%E5%83%8F_%E4%BA%9A%E5%8F%B6.png"],["\u5361\u8fbe","http://prts.wiki/images/4/43/%E5%A4%B4%E5%83%8F_%E5%8D%A1%E8%BE%BE.png"],["\u65e9\u9732","http://prts.wiki/images/6/63/%E5%A4%B4%E5%83%8F_%E6%97%A9%E9%9C%B2.png"],["\u83b1\u6069\u54c8\u7279","http://prts.wiki/images/0/03/%E5%A4%B4%E5%83%8F_%E8%8E%B1%E6%81%A9%E5%93%88%E7%89%B9.png"],["\u82e6\u827e","http://prts.wiki/images/e/e9/%E5%A4%B4%E5%83%8F_%E8%8B%A6%E8%89%BE.png"],["\u6ce2\u767b\u53ef","http://prts.wiki/images/4/43/%E5%A4%B4%E5%83%8F_%E6%B3%A2%E7%99%BB%E5%8F%AF.png"],["\u6708\u79be","http://prts.wiki/images/b/b6/%E5%A4%B4%E5%83%8F_%E6%9C%88%E7%A6%BE.png"],["\u77f3\u68c9","http://prts.wiki/images/1/18/%E5%A4%B4%E5%83%8F_%E7%9F%B3%E6%A3%89.png"],["W","http://prts.wiki/images/d/d6/%E5%A4%B4%E5%83%8F_W.png"],["\u6e29\u8482","http://prts.wiki/images/9/93/%E5%A4%B4%E5%83%8F_%E6%B8%A9%E8%92%82.png"],["\u6781\u5883","http://prts.wiki/images/9/97/%E5%A4%B4%E5%83%8F_%E6%9E%81%E5%A2%83.png"],["THRM-EX","http://prts.wiki/images/d/d8/%E5%A4%B4%E5%83%8F_THRM-EX.png"],["\u5080\u5f71","http://prts.wiki/images/8/83/%E5%A4%B4%E5%83%8F_%E5%82%80%E5%BD%B1.png"],["\u5deb\u604b","http://prts.wiki/images/3/36/%E5%A4%B4%E5%83%8F_%E5%B7%AB%E6%81%8B.png"],["\u94f8\u94c1","http://prts.wiki/images/8/84/%E5%A4%B4%E5%83%8F_%E9%93%B8%E9%93%81.png"],["\u523b\u5200","http://prts.wiki/images/2/2c/%E5%A4%B4%E5%83%8F_%E5%88%BB%E5%88%80.png"],["\u65ad\u7f6a\u8005","http://prts.wiki/images/f/f2/%E5%A4%B4%E5%83%8F_%E6%96%AD%E7%BD%AA%E8%80%85.png"],["\u98ce\u7b1b","http://prts.wiki/images/d/de/%E5%A4%B4%E5%83%8F_%E9%A3%8E%E7%AC%9B.png"],["\u6151\u7802","http://prts.wiki/images/e/e7/%E5%A4%B4%E5%83%8F_%E6%85%91%E7%A0%82.png"],["\u67cf\u5599","http://prts.wiki/images/2/2f/%E5%A4%B4%E5%83%8F_%E6%9F%8F%E5%96%99.png"],["\u5bb4","http://prts.wiki/images/f/f4/%E5%A4%B4%E5%83%8F_%E5%AE%B4.png"],["\u6e05\u6d41","http://prts.wiki/images/1/19/%E5%A4%B4%E5%83%8F_%E6%B8%85%E6%B5%81.png"],["\u523b\u4fc4\u67cf","http://prts.wiki/images/4/4a/%E5%A4%B4%E5%83%8F_%E5%88%BB%E4%BF%84%E6%9F%8F.png"],["\u60ca\u86f0","http://prts.wiki/images/8/81/%E5%A4%B4%E5%83%8F_%E6%83%8A%E8%9B%B0.png"],["\u5e74","http://prts.wiki/images/9/9c/%E5%A4%B4%E5%83%8F_%E5%B9%B4.png"],["\u963f","http://prts.wiki/images/3/31/%E5%A4%B4%E5%83%8F_%E9%98%BF.png"],["\u543d","http://prts.wiki/images/4/41/%E5%A4%B4%E5%83%8F_%E5%90%BD.png"],["\u96ea\u96c9","http://prts.wiki/images/2/24/%E5%A4%B4%E5%83%8F_%E9%9B%AA%E9%9B%89.png"],["\u714c","http://prts.wiki/images/3/30/%E5%A4%B4%E5%83%8F_%E7%85%8C.png"],["\u7070\u5589","http://prts.wiki/images/3/3b/%E5%A4%B4%E5%83%8F_%E7%81%B0%E5%96%89.png"],["\u5b89\u6bd4\u5c14","http://prts.wiki/images/f/ff/%E5%A4%B4%E5%83%8F_%E5%AE%89%E6%AF%94%E5%B0%94.png"],["\u5e03\u6d1b\u5361","http://prts.wiki/images/0/04/%E5%A4%B4%E5%83%8F_%E5%B8%83%E6%B4%9B%E5%8D%A1.png"],["\u82c7\u8349","http://prts.wiki/images/7/7a/%E5%A4%B4%E5%83%8F_%E8%8B%87%E8%8D%89.png"],["\u83ab\u65af\u63d0\u9a6c","http://prts.wiki/images/0/0b/%E5%A4%B4%E5%83%8F_%E8%8E%AB%E6%96%AF%E6%8F%90%E9%A9%AC.png"],["\u69d0\u7425","http://prts.wiki/images/e/ed/%E5%A4%B4%E5%83%8F_%E6%A7%90%E7%90%A5.png"],["\u62dc\u677e","http://prts.wiki/images/b/b2/%E5%A4%B4%E5%83%8F_%E6%8B%9C%E6%9D%BE.png"],["\u6885","http://prts.wiki/images/a/ac/%E5%A4%B4%E5%83%8F_%E6%A2%85.png"],["\u5fae\u98ce","http://prts.wiki/images/a/ad/%E5%A4%B4%E5%83%8F_%E5%BE%AE%E9%A3%8E.png"],["\u4f0a\u6851","http://prts.wiki/images/c/c1/%E5%A4%B4%E5%83%8F_%E4%BC%8A%E6%A1%91.png"],["\u9ea6\u54f2\u4f26","http://prts.wiki/images/4/4d/%E5%A4%B4%E5%83%8F_%E9%BA%A6%E5%93%B2%E4%BC%A6.png"],["\u9001\u846c\u4eba","http://prts.wiki/images/d/da/%E5%A4%B4%E5%83%8F_%E9%80%81%E8%91%AC%E4%BA%BA.png"],["\u708e\u5ba2","http://prts.wiki/images/d/d6/%E5%A4%B4%E5%83%8F_%E7%82%8E%E5%AE%A2.png"],["\u7ea2\u4e91","http://prts.wiki/images/a/af/%E5%A4%B4%E5%83%8F_%E7%BA%A2%E4%BA%91.png"],["\u575a\u96f7","http://prts.wiki/images/a/ab/%E5%A4%B4%E5%83%8F_%E5%9D%9A%E9%9B%B7.png"],["\u8d6b\u62c9\u683c","http://prts.wiki/images/c/cd/%E5%A4%B4%E5%83%8F_%E8%B5%AB%E6%8B%89%E6%A0%BC.png"],["\u661f\u6781","http://prts.wiki/images/e/ee/%E5%A4%B4%E5%83%8F_%E6%98%9F%E6%9E%81.png"],["\u6843\u91d1\u5a18","http://prts.wiki/images/9/9d/%E5%A4%B4%E5%83%8F_%E6%A1%83%E9%87%91%E5%A8%98.png"],["\u9ed1","http://prts.wiki/images/d/d4/%E5%A4%B4%E5%83%8F_%E9%BB%91.png"],["\u683c\u52b3\u514b\u65af","http://prts.wiki/images/5/53/%E5%A4%B4%E5%83%8F_%E6%A0%BC%E5%8A%B3%E5%85%8B%E6%96%AF.png"],["\u9521\u5170","http://prts.wiki/images/3/39/%E5%A4%B4%E5%83%8F_%E9%94%A1%E5%85%B0.png"],["\u82cf\u82cf\u6d1b","http://prts.wiki/images/6/63/%E5%A4%B4%E5%83%8F_%E8%8B%8F%E8%8B%8F%E6%B4%9B.png"],["\u9648","http://prts.wiki/images/c/cf/%E5%A4%B4%E5%83%8F_%E9%99%88.png"],["\u8bd7\u6000\u96c5","http://prts.wiki/images/5/50/%E5%A4%B4%E5%83%8F_%E8%AF%97%E6%80%80%E9%9B%85.png"],["\u683c\u96f7\u4f0a","http://prts.wiki/images/f/fe/%E5%A4%B4%E5%83%8F_%E6%A0%BC%E9%9B%B7%E4%BC%8A.png"],["\u6591\u70b9","http://prts.wiki/images/3/30/%E5%A4%B4%E5%83%8F_%E6%96%91%E7%82%B9.png"],["\u6ce1\u666e\u5361","http://prts.wiki/images/1/16/%E5%A4%B4%E5%83%8F_%E6%B3%A1%E6%99%AE%E5%8D%A1.png"],["\u65af\u5361\u8482","http://prts.wiki/images/5/53/%E5%A4%B4%E5%83%8F_%E6%96%AF%E5%8D%A1%E8%92%82.png"],["\u683c\u62c9\u5c3c","http://prts.wiki/images/2/29/%E5%A4%B4%E5%83%8F_%E6%A0%BC%E6%8B%89%E5%B0%BC.png"],["\u591c\u9b54","http://prts.wiki/images/a/a7/%E5%A4%B4%E5%83%8F_%E5%A4%9C%E9%AD%94.png"],["\u730e\u8702","http://prts.wiki/images/c/c2/%E5%A4%B4%E5%83%8F_%E7%8C%8E%E8%9C%82.png"],["\u6708\u89c1\u591c","http://prts.wiki/images/b/b7/%E5%A4%B4%E5%83%8F_%E6%9C%88%E8%A7%81%E5%A4%9C.png"],["\u7a7a\u7206","http://prts.wiki/images/c/cd/%E5%A4%B4%E5%83%8F_%E7%A9%BA%E7%88%86.png"],["\u66b4\u884c","http://prts.wiki/images/3/36/%E5%A4%B4%E5%83%8F_%E6%9A%B4%E8%A1%8C.png"],["\u94f6\u7070","http://prts.wiki/images/2/27/%E5%A4%B4%E5%83%8F_%E9%93%B6%E7%81%B0.png"],["\u585e\u96f7\u5a05","http://prts.wiki/images/e/ee/%E5%A4%B4%E5%83%8F_%E5%A1%9E%E9%9B%B7%E5%A8%85.png"],["\u661f\u718a","http://prts.wiki/images/0/07/%E5%A4%B4%E5%83%8F_%E6%98%9F%E7%86%8A.png"],["\u591c\u83ba","http://prts.wiki/images/6/64/%E5%A4%B4%E5%83%8F_%E5%A4%9C%E8%8E%BA.png"],["\u95ea\u7075","http://prts.wiki/images/5/54/%E5%A4%B4%E5%83%8F_%E9%97%AA%E7%81%B5.png"],["\u5b89\u6d01\u8389\u5a1c","http://prts.wiki/images/c/ca/%E5%A4%B4%E5%83%8F_%E5%AE%89%E6%B4%81%E8%8E%89%E5%A8%9C.png"],["\u827e\u96c5\u6cd5\u62c9","http://prts.wiki/images/c/cc/%E5%A4%B4%E5%83%8F_%E8%89%BE%E9%9B%85%E6%B3%95%E6%8B%89.png"],["\u4f0a\u8299\u5229\u7279","http://prts.wiki/images/e/ed/%E5%A4%B4%E5%83%8F_%E4%BC%8A%E8%8A%99%E5%88%A9%E7%89%B9.png"],["\u63a8\u8fdb\u4e4b\u738b","http://prts.wiki/images/b/ba/%E5%A4%B4%E5%83%8F_%E6%8E%A8%E8%BF%9B%E4%B9%8B%E7%8E%8B.png"],["\u80fd\u5929\u4f7f","http://prts.wiki/images/a/ad/%E5%A4%B4%E5%83%8F_%E8%83%BD%E5%A4%A9%E4%BD%BF.png"],["\u98df\u94c1\u517d","http://prts.wiki/images/d/dd/%E5%A4%B4%E5%83%8F_%E9%A3%9F%E9%93%81%E5%85%BD.png"],["\u72ee\u874e","http://prts.wiki/images/c/c5/%E5%A4%B4%E5%83%8F_%E7%8B%AE%E8%9D%8E.png"],["\u7a7a","http://prts.wiki/images/5/58/%E5%A4%B4%E5%83%8F_%E7%A9%BA.png"],["\u771f\u7406","http://prts.wiki/images/e/e6/%E5%A4%B4%E5%83%8F_%E7%9C%9F%E7%90%86.png"],["\u521d\u96ea","http://prts.wiki/images/d/d7/%E5%A4%B4%E5%83%8F_%E5%88%9D%E9%9B%AA.png"],["\u5d16\u5fc3","http://prts.wiki/images/7/7d/%E5%A4%B4%E5%83%8F_%E5%B4%96%E5%BF%83.png"],["\u5b88\u6797\u4eba","http://prts.wiki/images/2/27/%E5%A4%B4%E5%83%8F_%E5%AE%88%E6%9E%97%E4%BA%BA.png"],["\u666e\u7f57\u65fa\u65af","http://prts.wiki/images/7/72/%E5%A4%B4%E5%83%8F_%E6%99%AE%E7%BD%97%E6%97%BA%E6%96%AF.png"],["\u706b\u795e","http://prts.wiki/images/f/f1/%E5%A4%B4%E5%83%8F_%E7%81%AB%E7%A5%9E.png"],["\u53ef\u9882","http://prts.wiki/images/a/ab/%E5%A4%B4%E5%83%8F_%E5%8F%AF%E9%A2%82.png"],["\u96f7\u86c7","http://prts.wiki/images/f/f5/%E5%A4%B4%E5%83%8F_%E9%9B%B7%E8%9B%87.png"],["\u7ea2","http://prts.wiki/images/a/ac/%E5%A4%B4%E5%83%8F_%E7%BA%A2.png"],["\u4e34\u5149","http://prts.wiki/images/1/1a/%E5%A4%B4%E5%83%8F_%E4%B8%B4%E5%85%89.png"],["\u534e\u6cd5\u7433","http://prts.wiki/images/3/30/%E5%A4%B4%E5%83%8F_%E5%8D%8E%E6%B3%95%E7%90%B3.png"],["\u8d6b\u9ed8","http://prts.wiki/images/3/39/%E5%A4%B4%E5%83%8F_%E8%B5%AB%E9%BB%98.png"],["\u6885\u5c14","http://prts.wiki/images/0/07/%E5%A4%B4%E5%83%8F_%E6%A2%85%E5%B0%94.png"],["\u5929\u706b","http://prts.wiki/images/f/fa/%E5%A4%B4%E5%83%8F_%E5%A4%A9%E7%81%AB.png"],["\u963f\u7c73\u5a05","http://prts.wiki/images/3/36/%E5%A4%B4%E5%83%8F_%E9%98%BF%E7%B1%B3%E5%A8%85.png"],["\u9668\u661f","http://prts.wiki/images/e/ea/%E5%A4%B4%E5%83%8F_%E9%99%A8%E6%98%9F.png"],["\u767d\u91d1","http://prts.wiki/images/3/3b/%E5%A4%B4%E5%83%8F_%E7%99%BD%E9%87%91.png"],["\u84dd\u6bd2","http://prts.wiki/images/6/63/%E5%A4%B4%E5%83%8F_%E8%93%9D%E6%AF%92.png"],["\u5e7d\u7075\u9ca8","http://prts.wiki/images/2/28/%E5%A4%B4%E5%83%8F_%E5%B9%BD%E7%81%B5%E9%B2%A8.png"],["\u62c9\u666e\u5170\u5fb7","http://prts.wiki/images/b/bf/%E5%A4%B4%E5%83%8F_%E6%8B%89%E6%99%AE%E5%85%B0%E5%BE%B7.png"],["\u56e0\u9640\u7f57","http://prts.wiki/images/f/fe/%E5%A4%B4%E5%83%8F_%E5%9B%A0%E9%99%80%E7%BD%97.png"],["\u8299\u5170\u5361","http://prts.wiki/images/2/2b/%E5%A4%B4%E5%83%8F_%E8%8A%99%E5%85%B0%E5%8D%A1.png"],["\u5fb7\u514b\u8428\u65af","http://prts.wiki/images/5/57/%E5%A4%B4%E5%83%8F_%E5%BE%B7%E5%85%8B%E8%90%A8%E6%96%AF.png"],["\u51db\u51ac","http://prts.wiki/images/c/cd/%E5%A4%B4%E5%83%8F_%E5%87%9B%E5%86%AC.png"],["\u767d\u9762\u9e2e","http://prts.wiki/images/8/83/%E5%A4%B4%E5%83%8F_%E7%99%BD%E9%9D%A2%E9%B8%AE.png"],["\u963f\u6d88","http://prts.wiki/images/2/2f/%E5%A4%B4%E5%83%8F_%E9%98%BF%E6%B6%88.png"],["\u5730\u7075","http://prts.wiki/images/5/57/%E5%A4%B4%E5%83%8F_%E5%9C%B0%E7%81%B5.png"],["\u6df1\u6d77\u8272","http://prts.wiki/images/d/d1/%E5%A4%B4%E5%83%8F_%E6%B7%B1%E6%B5%B7%E8%89%B2.png"],["\u53e4\u7c73","http://prts.wiki/images/0/07/%E5%A4%B4%E5%83%8F_%E5%8F%A4%E7%B1%B3.png"],["\u86c7\u5c60\u7bb1","http://prts.wiki/images/0/02/%E5%A4%B4%E5%83%8F_%E8%9B%87%E5%B1%A0%E7%AE%B1.png"],["\u89d2\u5cf0","http://prts.wiki/images/e/e4/%E5%A4%B4%E5%83%8F_%E8%A7%92%E5%B3%B0.png"],["\u8c03\u9999\u5e08","http://prts.wiki/images/6/6a/%E5%A4%B4%E5%83%8F_%E8%B0%83%E9%A6%99%E5%B8%88.png"],["\u5609\u7ef4\u5c14","http://prts.wiki/images/c/cc/%E5%A4%B4%E5%83%8F_%E5%98%89%E7%BB%B4%E5%B0%94.png"],["\u672b\u836f","http://prts.wiki/images/d/d9/%E5%A4%B4%E5%83%8F_%E6%9C%AB%E8%8D%AF.png"],["\u6697\u7d22","http://prts.wiki/images/d/dd/%E5%A4%B4%E5%83%8F_%E6%9A%97%E7%B4%A2.png"],["\u783e","http://prts.wiki/images/c/ce/%E5%A4%B4%E5%83%8F_%E7%A0%BE.png"],["\u6155\u65af","http://prts.wiki/images/f/fc/%E5%A4%B4%E5%83%8F_%E6%85%95%E6%96%AF.png"],["\u827e\u4e1d\u9edb\u5c14","http://prts.wiki/images/5/57/%E5%A4%B4%E5%83%8F_%E8%89%BE%E4%B8%9D%E9%BB%9B%E5%B0%94.png"],["\u971c\u53f6","http://prts.wiki/images/2/29/%E5%A4%B4%E5%83%8F_%E9%9C%9C%E5%8F%B6.png"],["\u7f20\u4e38","http://prts.wiki/images/1/13/%E5%A4%B4%E5%83%8F_%E7%BC%A0%E4%B8%B8.png"],["\u675c\u5bbe","http://prts.wiki/images/a/a1/%E5%A4%B4%E5%83%8F_%E6%9D%9C%E5%AE%BE.png"],["\u7ea2\u8c46","http://prts.wiki/images/b/bb/%E5%A4%B4%E5%83%8F_%E7%BA%A2%E8%B1%86.png"],["\u6e05\u9053\u592b","http://prts.wiki/images/6/63/%E5%A4%B4%E5%83%8F_%E6%B8%85%E9%81%93%E5%A4%AB.png"],["\u8baf\u4f7f","http://prts.wiki/images/2/27/%E5%A4%B4%E5%83%8F_%E8%AE%AF%E4%BD%BF.png"],["\u767d\u96ea","http://prts.wiki/images/b/b4/%E5%A4%B4%E5%83%8F_%E7%99%BD%E9%9B%AA.png"],["\u6d41\u661f","http://prts.wiki/images/1/14/%E5%A4%B4%E5%83%8F_%E6%B5%81%E6%98%9F.png"],["\u6770\u897f\u5361","http://prts.wiki/images/6/63/%E5%A4%B4%E5%83%8F_%E6%9D%B0%E8%A5%BF%E5%8D%A1.png"],["\u8fdc\u5c71","http://prts.wiki/images/6/63/%E5%A4%B4%E5%83%8F_%E8%BF%9C%E5%B1%B1.png"],["\u591c\u70df","http://prts.wiki/images/5/55/%E5%A4%B4%E5%83%8F_%E5%A4%9C%E7%83%9F.png"],["\u6893\u5170","http://prts.wiki/images/8/83/%E5%A4%B4%E5%83%8F_%E6%A2%93%E5%85%B0.png"],["\u53f2\u90fd\u534e\u5fb7","http://prts.wiki/images/b/b3/%E5%A4%B4%E5%83%8F_%E5%8F%B2%E9%83%BD%E5%8D%8E%E5%BE%B7.png"],["\u5b89\u8d5b\u5c14","http://prts.wiki/images/9/94/%E5%A4%B4%E5%83%8F_%E5%AE%89%E8%B5%9B%E5%B0%94.png"],["\u8299\u84c9","http://prts.wiki/images/d/d3/%E5%A4%B4%E5%83%8F_%E8%8A%99%E8%93%89.png"],["\u708e\u7194","http://prts.wiki/images/f/fb/%E5%A4%B4%E5%83%8F_%E7%82%8E%E7%86%94.png"],["\u5b89\u5fb7\u5207\u5c14","http://prts.wiki/images/f/f6/%E5%A4%B4%E5%83%8F_%E5%AE%89%E5%BE%B7%E5%88%87%E5%B0%94.png"],["\u514b\u6d1b\u4e1d","http://prts.wiki/images/b/b9/%E5%A4%B4%E5%83%8F_%E5%85%8B%E6%B4%9B%E4%B8%9D.png"],["\u7c73\u683c\u9c81","http://prts.wiki/images/3/32/%E5%A4%B4%E5%83%8F_%E7%B1%B3%E6%A0%BC%E9%B2%81.png"],["\u5361\u7f07","http://prts.wiki/images/8/87/%E5%A4%B4%E5%83%8F_%E5%8D%A1%E7%BC%87.png"],["\u73ab\u5170\u838e","http://prts.wiki/images/4/4b/%E5%A4%B4%E5%83%8F_%E7%8E%AB%E5%85%B0%E8%8E%8E.png"],["\u7fce\u7fbd","http://prts.wiki/images/1/1f/%E5%A4%B4%E5%83%8F_%E7%BF%8E%E7%BE%BD.png"],["\u9999\u8349","http://prts.wiki/images/c/c8/%E5%A4%B4%E5%83%8F_%E9%A6%99%E8%8D%89.png"],["\u82ac","http://prts.wiki/images/4/41/%E5%A4%B4%E5%83%8F_%E8%8A%AC.png"],["12F","http://prts.wiki/images/b/b7/%E5%A4%B4%E5%83%8F_12F.png"],["\u675c\u6797","http://prts.wiki/images/2/24/%E5%A4%B4%E5%83%8F_%E6%9D%9C%E6%9E%97.png"],["\u5de1\u6797\u8005","http://prts.wiki/images/9/93/%E5%A4%B4%E5%83%8F_%E5%B7%A1%E6%9E%97%E8%80%85.png"],["\u9ed1\u89d2","http://prts.wiki/images/f/f1/%E5%A4%B4%E5%83%8F_%E9%BB%91%E8%A7%92.png"],["\u591c\u5200","http://prts.wiki/images/b/b2/%E5%A4%B4%E5%83%8F_%E5%A4%9C%E5%88%80.png"],["Castle-3","http://prts.wiki/images/8/82/%E5%A4%B4%E5%83%8F_Castle-3.png"]]),je="47.96.2.148:3050";function we(e){return Object(a.jsx)("div",{className:"lobby-avatar-container",style:{borderColor:e.is_player?"#389e0d":void 0},children:Object(a.jsx)("img",{className:"lobby-avatar",src:e.avatar})})}function ke(e){return Object(a.jsxs)("div",{className:"room",children:[e.players.map((function(t){return Object(a.jsx)(we,{is_player:t==e.playerID,avatar:Fe(t)})})),Object(a.jsx)("button",{className:"room-btn",style:{display:void 0==e.operation||e.locked?"none":void 0},onClick:e.operation&&e.operation.effect,children:e.operation&&e.operation.name})]})}function Fe(e){var t=ye.length;return ye[Math.floor(function(e){var t=m.a.sum(e.split("").map((function(t,i){return e.charCodeAt(i)}))),i=1e4*Math.sin(t++);return i-Math.floor(i)}(e)*t)][1]}function xe(e){var t="http://".concat(je,"/rooms");fetch(t).then((function(e){return e.json()})).then((function(t){return e((function(e){return Object(p.a)(Object(p.a)({},e),{},{rooms:t.rooms})}))}))}function Oe(e,t){return fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}function Ce(e){e((function(e){return Object(p.a)(Object(p.a)({},e),{},{locked:!0})})),setTimeout((function(){return xe(e)}),500)}function De(e,t,i,a){return void 0!=e.players.find((function(e){return e.player_id==t}))?{name:"\u9000\u51fa",effect:function(){!function(e,t){Oe("http://".concat(je,"/leave"),{player_id:e,room_id:t})}(t,e.room_id),Ce(a)}}:i?void 0:{name:"\u52a0\u5165",effect:function(){!function(e,t){Oe("http://".concat(je,"/enter"),{player_id:e,room_id:t})}(t,e.room_id),Ce(a)}}}function Ne(e){var t=Object(n.useState)({player_id:Object(ve.v4)(),rooms:[],locked:!1}),i=Object(o.a)(t,2),s=i[0],r=i[1];Object(n.useEffect)((function(){xe(r);var e=setInterval((function(){xe(r),console.log("Fetching room from server...")}),2500),t=function(){var t;t=s.player_id,Oe("http://".concat(je,"/leavelobby"),{player_id:t}),clearInterval(e),console.log("Exit lobby ".concat(s.player_id))};return window.addEventListener("beforeunload",t),function(){t(),window.removeEventListener("beforeunload",t)}}),[]),Object(n.useEffect)((function(){var t=s.rooms.find((function(e){return void 0!=e.players.find((function(e){return e.player_id==s.player_id}))}));if(t&&4==t.players.length){var i=t.players.map((function(e){return e.player_id})).indexOf(s.player_id)+"";e.actions.enter_game(t.room_id,i)}}),[s.rooms]),Object(n.useEffect)((function(){s.locked&&setTimeout((function(){return r((function(e){return Object(p.a)(Object(p.a)({},e),{},{locked:!1})}))}),2e3)}),[s.locked]);var c=s.rooms.flatMap((function(e){return e.players.map((function(e){return e.player_id}))})).includes(s.player_id);return Object(a.jsxs)("div",{className:"board",children:[Object(a.jsxs)("div",{className:"lobby-player-panel",children:[Object(a.jsx)(we,{avatar:Fe(s.player_id),is_player:!0}),Object(a.jsx)("button",{className:"room-btn",style:{display:c||s.locked?"none":void 0},onClick:function(){return r(Object(p.a)(Object(p.a)({},s),{},{player_id:Object(ve.v4)()}))},children:"\u6362\u4e2a\u5f62\u8c61"})]}),Object(a.jsx)("div",{className:"rooms",children:s.rooms.map((function(e){return Object(a.jsx)(ke,{players:e.players.map((function(e){return e.player_id})),playerID:s.player_id,operation:De(e,s.player_id,c,r),locked:s.locked})}))}),Object(a.jsx)("div",{}),Object(a.jsxs)("div",{style:{display:c?"none":void 0},className:"lobby-controller",children:[Object(a.jsx)("button",{className:"lobby-btn",onClick:function(){return e.actions.changer("Title")},children:"\u8fd4\u56de"}),Object(a.jsx)("button",{className:"lobby-btn",onClick:function(){var e;e=s.player_id,Oe("http://".concat(je,"/create"),{player_id:e,max_players:4}),Ce(r)},children:"\u521b\u5efa\u623f\u95f4"}),Object(a.jsx)("button",{className:"lobby-btn",onClick:function(){return e.actions.direct_enter()},children:"\u91cd\u8fdb"})]})]})}var Ge=Object(l.b)({server:"localhost:8000"}),Se=Object(u.a)({game:W,board:Be,debug:!1,numPlayers:1});function ze(){alert('\u6b22\u8fce\u6765\u5230\u300a\u96c0\u9b42\uff1a\u7206\u70b8\u4e00\u59ec\u300b\uff01\n\u6e38\u620f\u76ee\u6807\uff1a\u57288\u5c40\u4e4b\u540e\uff0c\u5206\u6570\u5168\u573a\u6700\u9ad8\n\u6bcf\u76d8\u6e38\u620f\u75318\u5c40\u7ec4\u6210(\u4e1c1\u5c40-\u53574\u5c40)\uff0c\u6bcf\u5c40\u7531\u4e24\u4e2a\u9636\u6bb5\u7ec4\u6210\uff1a\n* \u6263\u724c\u9636\u6bb5\uff1a\u5c061\u5f20\u724c\u6263\u5230\u4efb\u610f\u4e00\u540d\u73a9\u5bb6\u9762\u524d\uff0c\u91cd\u590d7\u6b21\uff1b\n* \u7ffb\u724c\u9636\u6bb5\uff1a\u6d17\u6df7\u6263\u5728\u81ea\u5df1\u9762\u524d\u7684\u6240\u6709\u724c\uff0c\u7136\u540e\u4e00\u5f20\u4e00\u5f20\u5730\u7ffb\u5f00\uff1b\n\u7ffb\u5230\u70b8\u5f39\u65f6\u76f4\u63a5\u51fa\u5c40\uff0c\u7ffb\u5230\u62a4\u7532\u65f6\u53ef\u62b5\u6321\u4e00\u6b21\u70b8\u5f39\uff0c\u7ffb\u5230\u64cd\u4f5c\u724c\u65f6\u5219\u6267\u884c\u5176\u6548\u679c\uff0c"\u76ee\u6807\u724c"\u5728\u724c\u5806\u6700\u5e95\u5c42\uff0c\u7ffb\u5f00\u540e\u5982\u679c\u8fbe\u6210\u76ee\u6807\uff0c\u5c31\u80fd\u83b7\u5f97\u5206\u6570\uff1b\n(\u989d\u5916\u8bf4\u660e\uff1a\u7ffb\u724c\u9636\u6bb5\uff0c\u5982\u679c\u7ffb\u5230\u5de6\u4e0a\u89d2\u6709\u6c34\u679c\u7684\u64cd\u4f5c\u724c\u65f6\uff0c\u5219\u8981\u505a\u51fa\u6289\u62e9\uff1a\u662f\u5c06\u8fd9\u5f20\u724c\u4f5c\u4e3a\u64cd\u4f5c\u8fd8\u662f\u4f5c\u4e3a\u6c34\u679c)\n\u4e3e\u4f8b\uff1a\n* \u4e1c1\u5c40\uff0c\u6263\u724c\u9636\u6bb5\uff0c\u4e00\u59ec\u7684\u76ee\u6807\u662f"\u51fb\u6740\u4e0b\u5bb6"\uff0c\u56e0\u6b64\u4e00\u59ec\u5c06\u4e00\u5f20\u70b8\u5f39\u6263\u7ed9\u4e86\u4e0b\u5bb6\n* \u4e00\u59ec\u7684\u4e0b\u5bb6\uff0c\u4e8c\u59d0\uff0c\u53d1\u73b0\u522b\u4eba\u6263\u7ed9\u81ea\u5df1\u724c\uff0c\u611f\u89c9\u4e0d\u5bf9\uff0c\u4e8e\u662f\u5c06\u4e00\u5f20"\u62a4\u7532"\u6263\u7ed9\u4e86\u81ea\u5df1\n* \u4e00\u59ec\u7684\u5bf9\u5bb6\uff0c\u5973\u4ec6\u7684\u76ee\u6807\u662f"\u83b7\u5f97\u67e0\u6aac"\uff0c\u56e0\u6b64\u5973\u4ec6\u5c06\u624b\u91cc\u4e00\u5f20\u5de6\u4e0a\u89d2\u6709"\u67e0\u6aac"\u7684\u724c\u6263\u7ed9\u4e86\u81ea\u5df1\n* \u5c31\u8fd9\u6837\u6263\u4e867\u6b21\u4e4b\u540e\uff0c\u6240\u6709\u4eba\u6d17\u6df7\u4e86\u81ea\u5df1\u9762\u524d\u7684\u724c\uff0c\u8fdb\u5165\u7ffb\u724c\u9636\u6bb5')}var Ie=function(e){return Object(a.jsx)(be,{title:"\u96c0\u9b42: \u7206\u70b8\u4e00\u59ec",titleImg:"https://s3.ax1x.com/2021/02/02/ym9Sln.png",operations:[{name:"\u5355\u4eba\u7ec3\u4e60",effect:function(){return e.actions.changer("SingleClient")}},{name:"\u591a\u4eba\u8fd0\u52a8",effect:function(){return e.actions.changer("CSPRLobby")}},{name:"\u73a9\u6cd5\u6559\u5b66",effect:ze}]})},Re=function(e){return Object(a.jsx)(Ne,Object(p.a)({},e))},Te=function(){var e=Object(n.useState)({scene:"Title"}),t=Object(o.a)(e,2),i=t[0],s=t[1],r={changer:function(e){return s(Object(p.a)(Object(p.a)({},i),{},{scene:e}))},enter_game:function(e,t){s(Object(p.a)(Object(p.a)({},i),{},{game_instance:{matchID:e,playerID:t}}))},finish_game:function(){return s(Object(p.a)(Object(p.a)({},i),{},{game_instance:void 0}))},direct_enter:function(){var e=prompt("\u8f93\u5165\u5bf9\u5c40\u4ee3\u7801:"),t=e[4],a=e.slice(0,4),n=e[6];s(Object(p.a)(Object(p.a)({},i),{},{game_instance:{matchID:a,playerID:t}})),n&&(console.log("There are some ai players"),s(Object(p.a)(Object(p.a)({},i),{},{ai_players:parseInt(n)})))}},c={CSPRLobby:Re,Title:Ie,SingleClient:Se}[i.scene]||Ie;if(void 0!=i.game_instance){var l=Object(u.a)({game:W,board:Be,debug:!1,multiplayer:Ge,numPlayers:4});c=function(e){return Object(a.jsx)(l,Object(p.a)({matchID:i.game_instance.matchID,playerID:i.game_instance.playerID},e))}}return Object(a.jsx)(c,Object(p.a)({},{S:i,actions:r}))},Me=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,110)).then((function(t){var i=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;i(e),a(e),n(e),s(e),r(e)}))};c.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(Te,{})}),document.getElementById("root")),Me()},36:function(e,t,i){},72:function(e,t,i){},74:function(e,t,i){},77:function(e,t,i){}},[[108,1,2]]]);
//# sourceMappingURL=main.759ef273.chunk.js.map