(this["webpackJsonpcspr-app"]=this["webpackJsonpcspr-app"]||[]).push([[0],{54:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},84:function(e,t){},88:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(3),i=n.n(c),s=n(45),r=n.n(s),o=(n(54),n(47)),l=n(8),d=n(0),u=n(5),f=n(11),p=n.n(f),m=n(1),h=[{name:"\u70b8\u5f39",desc:"\u5623\uff01",illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/emojidex/112/bomb_1f4a3.png",effect:function(e,t,n){B(n)}},{name:"\u62a4\u7532",desc:"\u653e\u5165\u6301\u7eed\u533a\uff0c\u53ef\u62b5\u63211\u6b21\u51fa\u5c40",illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/twitter/259/shield_1f6e1.png",effect:function(e,t,n){n.entities.push("shield")}},{name:"\u767d\u5ad6",desc:"\u83b7\u5f971\u5206",has_fruit:!0,illust:"https://s3.ax1x.com/2020/12/16/rQ2Eef.jpg",effect:function(e,t,n){n.score+=1}},{name:"\u978b\u5b50",desc:"\u83b7\u5f971\u6b21\u8df3\u8fc7\u673a\u4f1a",has_fruit:!0,illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/twitter/259/running-shoe_1f45f.png",effect:function(e,t,n){n.entities.push("skip")}},{name:"\u5f52\u6863",desc:"\u5f52\u68631\u5f20\u724c",has_fruit:!0,illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/whatsapp/273/floppy-disk_1f4be.png",effect:function(e,t,n){O(n.deck,n.hand)}},{name:"\u52a0\u901f",desc:"\u5f03\u6389\u724c\u5806\u9876\u76841\u5f20\u724c\uff0c\u5e76\u6267\u884c\u51762\u6b21",has_fruit:!0,illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/271/racing-car_1f3ce-fe0f.png",effect:function(e,t,n){var c=O(n.deck,n.discard);void 0!=c&&(F(e,t,Object(a.jsxs)("span",{children:["\u6267\u884c\u4e86 ",c.name," \u4e24\u6b21"]})),c.effect(e,t,n),c.effect(e,t,n))}},{name:"\u62c6\u5f39",desc:"\u67e5\u770b\u724c\u5806\u9876\u76841\u5f20\u724c\uff0c\u5982\u679c\u662f\u70b8\u5f39\uff0c\u5c06\u5176\u5f03\u6389\uff0c\u5426\u5219\u653e\u56de\u724c\u5e93\u9876",has_fruit:!0,illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/google/263/wrench_1f527.png",effect:function(e,t,n){var c=n.deck[0];if(void 0!=c){if(F(e,t,Object(a.jsxs)("span",{children:["\u4f7f\u7528\u62c6\u5f39\u7ffb\u5f00 ",c.name]})),"\u70b8\u5f39"!=c.name)return;O(n.deck,n.discard)}}},{name:"\u5f15\u7206",desc:"\u5f03\u6389\u724c\u5e93\u9876\u76842\u5f20\u724c\uff0c\u5982\u679c\u5176\u4e2d\u6709\u70b8\u5f39\uff0c\u5219\u76f4\u63a5\u51fa\u5c40\uff0c\u5426\u5219\u83b7\u5f971\u5206",illust:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/271/fire_1f525.png",effect:function(e,t,n){var c=e.deck.slice(0,2);n.deck=n.deck.slice(2),n.discard=[].concat(Object(u.a)(c),Object(u.a)(n.discard)),F(e,t,Object(a.jsxs)("span",{children:["\u56e0\u4e3a\u5f15\u7206\u5f03\u6389\u4e86 ",c.map((function(e){return Object(a.jsxs)("span",{children:[e.name," "]})}))]})),c.map((function(e){return e.name})).includes("\u70b8\u5f39")?B(n):n.score+=1}}],j=["https://s1.ax1x.com/2020/11/08/BI5SKA.png","https://s1.ax1x.com/2020/11/08/BI5pDI.png","https://s1.ax1x.com/2020/11/08/BI4xvd.png","https://s1.ax1x.com/2020/11/08/BI4j8e.png","https://s1.ax1x.com/2020/11/08/BI4vgH.png","https://s1.ax1x.com/2020/11/08/BI59bt.png","https://s1.ax1x.com/2020/11/08/BI5PVP.png","https://s1.ax1x.com/2020/11/08/BI5iUf.png","https://s1.ax1x.com/2020/11/08/BI5F58.png","https://s1.ax1x.com/2020/11/08/BI5APS.png"],b="https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/google/263/beer-mug_1f37a.png",v=(n(56),["https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/google/263/tomato_1f345.png","https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/google/263/lemon_1f34b.png","https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/google/263/green-apple_1f34f.png"].map((function(e){return Object(a.jsx)("img",{src:e,className:"fruit-icon"})}))),x=Object(a.jsx)("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/twitter/259/shield_1f6e1.png",className:"fruit-icon"}),g=Object(a.jsx)("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/twitter/259/running-shoe_1f45f.png",className:"fruit-icon"});function _(e,t){var n=e.entities.filter((function(e){return"object"==typeof e&&e.fruit==t})).length;if(n>=3)e.score+=6;else if(2==n)e.score+=3;else{if(1!=n)return;e.score+=1}}var y=[{name:"\u76ee\u6807: \u51fb\u6740\u4e0a\u5bb6",desc:"\u5982\u679c\u4e0a\u5bb6\u5df2\u7ecf\u51fa\u5c40\uff0c\u5219\u83b7\u5f973\u5206",stackable:!0,effect:function(e,t,n){var a=(e.players.indexOf(n)+3)%4;1==e.players[a].out&&(n.score+=3)}},{name:"\u76ee\u6807: \u51fb\u6740\u4e0b\u5bb6",desc:"\u5982\u679c\u4e0b\u5bb6\u5df2\u7ecf\u51fa\u5c40\uff0c\u5219\u83b7\u5f973\u5206",stackable:!0,effect:function(e,t,n){var a=(e.players.indexOf(n)+1)%4;1==e.players[a].out&&(n.score+=3)}},{name:"\u76ee\u6807: \u4fdd\u62a4\u4e0a\u5bb6",desc:"\u5982\u679c\u4e0a\u5bb6\u4f9d\u7136\u5b58\u6d3b\uff0c\u5219\u83b7\u5f971\u5206\uff0c\u5426\u5219\u5931\u53bb1\u5206",effect:function(e,t,n){var a=(e.players.indexOf(n)+3)%4;1!=e.players[a].out?n.score+=1:n.score-=1}},{name:"\u76ee\u6807: \u4fdd\u62a4\u4e0b\u5bb6",desc:"\u5982\u679c\u4e0b\u5bb6\u4f9d\u7136\u5b58\u6d3b\uff0c\u5219\u83b7\u5f971\u5206\uff0c\u5426\u5219\u5931\u53bb1\u5206",effect:function(e,t,n){var a=(e.players.indexOf(n)+1)%4;1!=e.players[a].out?n.score+=1:n.score-=1}},{name:"\u76ee\u6807: \u6c34\u679c",desc:Object(a.jsxs)("span",{children:["\u5982\u679c\u4f60\u62e5\u67091/2/3\u4e2a",v[0],"\uff0c\u5219\u83b7\u5f971/3/6\u5206"]}),effect:function(e,t,n){_(n,0)}},{name:"\u76ee\u6807: \u6c34\u679c",desc:Object(a.jsxs)("span",{children:["\u5982\u679c\u4f60\u62e5\u67091/2/3\u4e2a",v[1],"\uff0c\u5219\u83b7\u5f971/3/6\u5206"]}),effect:function(e,t,n){_(n,1)}},{name:"\u76ee\u6807: \u6c34\u679c",desc:Object(a.jsxs)("span",{children:["\u5982\u679c\u4f60\u62e5\u67091/2/3\u4e2a",v[2],"\uff0c\u5219\u83b7\u5f971/3/6\u5206"]}),effect:function(e,t,n){_(n,2)}},{name:"\u76ee\u6807: \u5f52\u6863",desc:"\u5982\u679c\u4f60\u7684\u5b58\u6863\u4e2d\u67091/2\u5f20\u724c\uff0c\u5219\u83b7\u5f972/5\u5206",effect:function(e,t,n){var a=n.hand.length;if(1==a)n.score+=2;else{if(!(a>=2))return;n.score+=5}}},{name:"\u76ee\u6807: \u73a9\u4e2a\u523a\u6fc0\u7684",desc:'\u5982\u679c\u4f60\u7684\u5f03\u724c\u5806\u4e2d\u6709"\u5f15\u7206"\uff0c\u5219\u83b7\u5f972\u5206',effect:function(e,t,n){void 0!=n.discard.find((function(e){return"\u5f15\u7206"==e.name}))&&(n.score+=2)}}].map((function(e){return Object(d.a)(Object(d.a)({},e),{},{is_goal:!0,illust:b})}));function O(e,t){var n=e.splice(0,1)[0];return n?(t.unshift(n),n):void 0}function k(){return{score:0,hand:[],deck:[],discard:[],goals:[],entities:["skip"],previous_action:void 0,finished:!1,out:!1}}var w=function(e,t){e.phase="place",e.round+=1,e.deck=function(e){var t,n,a=[].concat(Object(u.a)(p.a.times(6,(function(){return"\u70b8\u5f39"}))),Object(u.a)(p.a.times(3,(function(){return"\u62a4\u7532"}))),Object(u.a)(p.a.times(4,(function(){return"\u767d\u5ad6"}))),Object(u.a)(p.a.times(4,(function(){return"\u62c6\u5f39"}))),Object(u.a)(p.a.times(3,(function(){return"\u5f15\u7206"}))),Object(u.a)(p.a.times(3,(function(){return"\u52a0\u901f"}))),Object(u.a)(p.a.times(3,(function(){return"\u5f52\u6863"}))),Object(u.a)(p.a.times(3,(function(){return"\u978b\u5b50"})))).map((function(e){return h.find((function(t){return t.name==e}))})).filter((function(e){return void 0!=e})).map((function(e){return Object(d.a)({},e)})),c=Object(l.a)(a);try{for(c.s();!(n=c.n()).done;){var i=n.value;i.has_fruit&&(i.fruit=e.random.Die(3)-1)}}catch(s){c.e(s)}finally{c.f()}return(null===(t=e.random)||void 0===t?void 0:t.Shuffle(a))||a}(t),e.init_player=(e.init_player+1)%4;var n,a=Object(l.a)(e.players);try{for(a.s();!(n=a.n()).done;){var c=n.value;c.deck=[],c.hand=[],c.discard=[],c.entities=["skip"],c.out=!1,c.finished=!1,c.previous_action=void 0}}catch(i){a.e(i)}finally{a.f()}!function(e,t){for(var n=t.random.Shuffle([].concat(Object(u.a)(y),Object(u.a)(y.filter((function(e){return e.stackable}))))),a=0;a<e.players.length;a++)e.players[a].goals=n.slice(2*a,2*a+2)}(e,t),function(e,t){var n,a=Object(l.a)(e.players);try{for(a.s();!(n=a.n()).done;)n.value.hand=e.deck.slice(0,7),e.deck=e.deck.slice(7)}catch(i){a.e(i)}finally{a.f()}}(e)};function N(e,t){var n=(t+1)%e.length;return e[n].finished?N(e,n):n}var G=function(e,t,n,a,c){var i=e.players[n],s=i.hand[a];i.hand=i.hand.filter((function(e){return e!=s})),e.players[(n+c)%e.players.length].deck.unshift(s),i.previous_action=c},S=function(e,t){var n=e.players.map((function(e){return e.hand})),a=n.length;if(0==n[0].length)console.log("Time to enter the action phase"),function(e,t){e.phase="action";var n,a=Object(l.a)(e.players);try{for(a.s();!(n=a.n()).done;){var c,i=n.value;i.deck=(null===(c=t.random)||void 0===c?void 0:c.Shuffle(i.deck))||i.deck,i.deck=[].concat(Object(u.a)(i.deck),Object(u.a)(i.goals))}}catch(s){a.e(s)}finally{a.f()}e.next_action="flip",e.active_player_idx=e.init_player}(e,t);else{n=[n[a-1]].concat(Object(u.a)(n.slice(0,a-1)));for(var c=0;c<a;c++)e.players[c].hand=n[c]}var i,s=Object(l.a)(e.players);try{for(s.s();!(i=s.n()).done;){i.value.placed=!1}}catch(r){s.e(r)}finally{s.f()}};function C(e){var t=e.deck[0];void 0!=t&&(e.deck=e.deck.slice(1),e.discard.unshift(t))}function B(e){var t=e.entities.map((function(e,t){return"shield"==e?t:void 0})).filter((function(e){return void 0!=e}))[0];console.log("Find shield:",t),void 0!=t?e.entities=e.entities.filter((function(e,n){return n!=t})):(console.log("Player ".concat(e.score,"\u5206 is out")),e.out=!0)}var I=function(e,t,n){if("execute"==e.next_action||n)if(function(e){return void 0==e.players.find((function(e){return!e.finished}))}(e))!function(e,t){w(e,t)}(e,t);else{var a=N(e.players,e.active_player_idx);e.active_player_idx=a,e.next_action="flip"}else e.next_action="execute"},z=function(e,t,n,c){if("flip"!=e.next_action||e.active_player_idx!=n)return m.t;var i=e.players[e.active_player_idx],s=!1;if("skip"==c){var r=i.entities.find((function(e){return"skip"==e}));if(void 0==r)return m.t;var o=i.entities.indexOf(r);C(i),i.entities.splice(o,1),s=!0,F(e,t,"\u9009\u62e9\u8df3\u8fc7")}else if("object"==typeof c&&"archive_idx"in c){var l=i.hand[c.archive_idx];if(void 0==l)return m.t;i.hand=i.hand.filter((function(e){return e!=l})),i.discard.unshift(l)}else C(i),console.log("\u7ffb\u5f00\u724c",i.discard[0].name),F(e,t,[Object(a.jsxs)("span",{children:["\u7ffb\u5f00 ",i.discard[0].name]})]);I(e,t,s)},D=function(e,t,n,a){if(n!=e.active_player_idx)return m.t;var c=e.players[e.active_player_idx],i=c.discard[0];if(console.log("".concat(n," is executing")),"fruit"==a){if(console.log("Gonna add fruit"),void 0==i.fruit)return m.t;c.entities.push({fruit:i.fruit}),F(e,t,"\u5c06 ".concat(i.name," \u4f5c\u4e3a\u6c34\u679c"))}else console.log("Just execute ".concat(i.name)),i.effect(e,t,c,i),F(e,t,"\u6267\u884c ".concat(i.name));c.finished=c.out||0==c.deck.length,I(e,t)},F=function(e,t,n){e.gamelogs.unshift(n)},P={setup:function(e){var t,n={deck:[],players:p.a.times(4,k),public_goals:[],actions:[],round:-1,init_player:((null===(t=e.random)||void 0===t?void 0:t.Die(4))||1)-1,active_player_idx:0,next_action:"place",phase:"place",host:0,ai_players:[1,2,3],gamelogs:[]};return function(e,t){for(var n=e.players.length,a=t.random.Shuffle(j).slice(0,n),c=0;c<n;c++)e.players[c].illust=a[c]}(n,e),w(n,e),n},moves:{add_action:function(e,t,n){e.actions.push(n),e.players[n.from_idx].placed=!0,n.from_idx==e.host&&function(e,t){var n,a=Object(l.a)(e.ai_players);try{for(a.s();!(n=a.n()).done;){var c=n.value,i=t.random.Die(e.players[c].hand.length)-1,s=t.random.Die(e.players.length)-1;e.actions.push({from_idx:c,card_idx:i,direction:s})}}catch(r){a.e(r)}finally{a.f()}}(e,t),e.actions.length==e.players.length&&function(e,t){var n,a=Object(l.a)(e.actions);try{for(a.s();!(n=a.n()).done;){var c=n.value;G(e,0,c.from_idx,c.card_idx,c.direction)}}catch(i){a.e(i)}finally{a.f()}e.actions=[],S(e,t)}(e,t)},flip:z,execute:D,ai_act:function(e,t,n){if(!e.ai_players.includes(e.active_player_idx)||e.host!=n)return m.t;if("flip"==e.next_action){z(e,t,e.active_player_idx,"flip")}else{if("execute"!=e.next_action)return m.t;D(e,t,e.active_player_idx,"execute")}},log_msg:F}},A=n(10),E=n(17);n(57);function T(){return{board:"GameBoard",player_idx:0,log:""}}function J(e,t){var n=e.players[t.player_idx];if("place"==e.phase)return n.placed||void 0==t.hand_selected?[]:function(e,t){var n=["\u81ea\u5df1","\u4e0b\u5bb6","\u4e0a\u5bb6","\u5bf9\u5bb6"];return[0,1,3,2].map((function(a,c){return{name:n[c],action:"add_place_action",args:[e,t,a]}}))}(t.player_idx,t.hand_selected);if(e.active_player_idx==t.player_idx){if("flip"==e.next_action){var a=[{name:"\u7ffb\u5f00",action:"flip",args:[t.player_idx,"flip"]}];return n.entities.includes("skip")&&a.push({name:"\u8df3\u8fc7",action:"flip",args:[t.player_idx,"skip"]}),n.hand.length>0&&void 0!=t.hand_selected&&a.push({name:"\u6253\u51fa\u5b58\u6863",action:"flip",args:[t.player_idx,{archive_idx:t.hand_selected}]}),a}var c=[{name:"\u6267\u884c",action:"execute",args:[t.player_idx,"execute"]}];return void 0!=n.discard[0].fruit&&c.push({name:"\u4f5c\u4e3a\u6c34\u679c",action:"execute",args:[t.player_idx,"fruit"]}),c}return t.player_idx==e.host?[{name:"\u884c\u52a8",action:"ai_act",args:[t.player_idx]}]:[]}var L=function(e,t){e.log=t},M={select_hand:function(e,t,n){!function(e,t){e.hand_selected==t?e.hand_selected=void 0:e.hand_selected=t}(e,t);var c=n[t];L(e,Object(a.jsxs)("span",{children:[c.name,": ",c.desc]}))},clear_state:function(e){e.hand_selected=void 0},change_board:function(e,t){e.board=t},log_msg:L};function H(e,t){var n={};for(var a in t)n[a]=e(t[a],a);return n}var K={add_place_action:function(e,t,n,a,c){e.add_action({from_idx:n,card_idx:a,direction:c}),t.clear_state()},ai_act:function(e,t,n){e.ai_act(n)},flip:function(e,t,n,a){e.flip(n,a)},execute:function(e,t,n,a){e.execute(n,a)}};function Q(e){return Object(a.jsxs)("div",{className:"top-panel",children:[Object(a.jsx)("button",{className:"check-goal-button",onClick:e.checkGoal,children:"\u67e5\u770b\u76ee\u6807"}),e.gameCount]})}function U(e){return Object(a.jsx)("div",{className:"deck-area",children:Object(a.jsx)("div",{className:"card-num",children:e.cardNum})})}function V(e){return Object(a.jsx)("div",{className:"play-area",children:Object(a.jsx)(te,Object(d.a)({},e.playedCard))})}function q(e){return Object(a.jsxs)("div",{className:"card-areas",children:[Object(a.jsx)(U,{cardNum:e.cardNum}),Object(a.jsx)(V,{playedCard:e.playedCard})]})}function R(e){return Object(a.jsx)("div",{className:"avatar",style:{border:e.selected?"3px solid #61dafb":void 0},children:Object(a.jsx)("img",{src:e.illust,className:"avatar-img"})})}function W(e){return Object(a.jsx)("div",{className:"info-line",children:e.content})}function X(e){return Object(a.jsxs)("div",{className:"player-info",children:[Object(a.jsx)(R,{illust:e.illust,selected:e.selected}),Object(a.jsx)(W,{content:"".concat(e.name,"(").concat(e.score,"\u5206)")}),Object(a.jsx)(W,{content:e.info})]})}function Y(e){return Object(a.jsxs)("div",{className:"player",children:[Object(a.jsx)(q,{cardNum:e.playerInfo.deck.length,playedCard:e.playerInfo.discard[0]}),Object(a.jsx)(X,Object(d.a)({},e.playerInfo))]})}function Z(e){return Object(a.jsx)("div",{className:"central",children:e.players.map((function(e){return Object(a.jsx)(Y,{playerInfo:e})}))})}function $(e){return Object(a.jsx)("div",{className:"info-panel",children:e.log})}function ee(e){Object(c.useEffect)((function(){if(1==e.operations.length){var t=e.operations[0];setTimeout((function(){var n;(n=e.combined)[t.action].apply(n,Object(u.a)(t.args||[]))}),600)}}));var t=1==e.operations.length?[]:e.operations;return Object(a.jsx)("div",{className:"controller",children:t.map((function(t){return Object(a.jsx)("button",{className:"controller-button",onClick:function(){var n;return(n=e.combined)[t.action].apply(n,Object(u.a)(t.args||[]))},children:t.name})}))})}function te(e){return Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("div",{className:"illust-container",children:Object(a.jsx)("img",{className:"illust",src:e.illust})}),Object(a.jsx)("div",{className:"card-fruit",style:{display:void 0!=e.fruit?void 0:"none"},children:void 0!=e.fruit?v[e.fruit]:""})]})}function ne(e){return Object(a.jsx)("div",{className:"card-container",style:{border:1==e.card.selected?"3px solid #61dafb":void 0},onClick:e.handleClick,children:Object(a.jsx)(te,Object(d.a)({},e.card))})}function ae(e){return Object(a.jsx)("div",{className:"card-row",children:e.cards.map((function(t,n){return Object(a.jsx)(ne,{card:t,handleClick:e.handleCardClick(n)})}))})}function ce(e,t,n){return"place"==t.phase?void 0!=e.previous_action?(t.players.indexOf(e)+e.previous_action)%4==n.player_idx&&0!=e.previous_action?"\u6263\u7ed9\u4f60":["\u6263\u7ed9\u81ea\u5df1","\u6263\u7ed9\u4e0b\u5bb6","\u6263\u7ed9\u5bf9\u5bb6","\u6263\u7ed9\u4e0a\u5bb6"][e.previous_action]:"\u51c6\u5907\u6263\u724c":e.finished?e.out?"\u5df2\u51fa\u5c40":"\u5df2\u5b8c\u6210":e.entities.map((function(e){return function(e){return"object"==typeof e?v[e.fruit]:"shield"==e?x:g}(e)}))}function ie(e,t){var n=e-t;return n<0?4-n:n}function se(e){return Object(a.jsxs)("div",{className:"board",children:[Object(a.jsx)(Z,{players:(n=e.G.players.map((function(t,n){return function(e,t,n,a){return Object(d.a)(Object(d.a)({},e),{},{name:["\u73a9\u5bb6","\u4e0b\u5bb6","\u5bf9\u5bb6","\u4e0a\u5bb6"][ie(t,a.player_idx)],info:ce(e,n,a),selected:"action"==n.phase&&t==n.active_player_idx})}(t,n,e.G,e.S)})),c=[(e.S.player_idx+2)%4,(e.S.player_idx+3)%4,(e.S.player_idx+1)%4,e.S.player_idx],c.map((function(e){return n[e]})))}),Object(a.jsx)($,{log:"place"==e.G.phase?e.S.log:e.G.gamelogs[0]}),Object(a.jsx)(ee,{operations:J(e.G,e.S),combined:e.combined}),Object(a.jsx)(ae,{cards:e.G.players[0].hand.map((t=e.S,function(e,n){return Object(d.a)(Object(d.a)({},e),{},{selected:t.hand_selected==n})})),handleCardClick:function(t){return function(){return e.actions.select_hand(t,e.G.players[e.S.player_idx].hand)}}}),Object(a.jsx)(Q,{gameCount:"".concat("\u6771\u5357\u897f"[Math.floor(e.G.round/4)]).concat(e.G.round%4+1,"\u5c40"),checkGoal:function(){return e.actions.change_board("GoalBoard")}})]});var t,n,c}function re(e){var t=1==e.goal.is_public?"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/google/263/green-salad_1f957.png":b;return Object(a.jsxs)("div",{className:"goal",children:[Object(a.jsx)("div",{className:"goal-illust-container",children:Object(a.jsx)("img",{className:"goal-illust",src:t})}),Object(a.jsx)("div",{className:"goal-desc-container",children:Object(a.jsxs)("div",{className:"goal-desc",children:[e.goal.name,Object(a.jsx)("br",{}),e.goal.desc]})})]})}var oe={GameBoard:se,GoalBoard:function(e){return Object(a.jsxs)("div",{className:"board",children:[Object(a.jsx)("div",{className:"goals-container",children:e.G.players[e.S.player_idx].goals.map((function(e){return Object(a.jsx)(re,{goal:e})}))}),Object(a.jsx)("button",{className:"gb-back-button",onClick:function(){return e.actions.change_board("GameBoard")},children:"\u8fd4\u56de"})]})}};var le=Object(o.a)({game:P,board:function(e){var t=Object(c.useState)(T),n=Object(A.a)(t,2),a=n[0],i=n[1],s=H((function(e){return function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return i(Object(E.b)((function(t){return e.apply(void 0,[t].concat(n))})))}}),M),r=H((function(t){return function(){for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return t.apply(void 0,[e.moves,s].concat(a))}}),K),o=e.G,l=e.ctx,d=e.moves,u={G:o,ctx:l,moves:d,S:a,actions:s,combined:r};return Object(c.useEffect)((function(){"place"==o.phase&&s.change_board("GoalBoard")}),[o.phase]),(oe[a.board]||se)(u)},debug:!1}),de=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,90)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))};r.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(le,{})}),document.getElementById("root")),de()}},[[88,1,2]]]);
//# sourceMappingURL=main.786380e6.chunk.js.map